import{_ as ua,r as R,m as Q,w as Pe,a5 as ma,u as ca,c as E,a as n,o as m,b as s,d as o,f as Z,s as ee,a9 as Me,h as b,g as f,i as g,e as l,k as Ne,j as h,af as ne,l as w,t as c,F as de,p as ue,ag as Ae,ah as pa,v as je}from"./index-D8k0Z2VW.js";import{Q as z}from"./QBadge-pToOuXWH.js";import{Q as S}from"./QTd-Dz2_L_T4.js";import{Q as O}from"./QBanner-tZm71ZRY.js";import{Q as Ie,a as Te}from"./QItemLabel-BiKvV_tR.js";import{Q as U}from"./QSelect-CCFBgF8v.js";import{Q as me}from"./QForm-BHoNUr4c.js";import{Q as va}from"./QFile-DYrxQo6S.js";import{Q as ga}from"./QPage-CDUm3vNP.js";import{u as ya}from"./use-quasar-Dk_EY-O4.js";import{g as ae,p as Se,a as fa}from"./apiClient-Vvvjylwf.js";import{u as _a}from"./useNotifications-C15CMF32.js";import{u as ba}from"./authStore-BiRtblIW.js";import{u as ha}from"./useEntityManager-6kUzRwOq.js";import{B as p}from"./Button-ByZOtwGJ.js";import{B as wa}from"./BackButton-OAicZK4q.js";import{P as Da}from"./PageHeader-BZtJRD6F.js";import{M as F}from"./Modal-CwwUMTwV.js";import{T as Ra}from"./Table-DrGgNztj.js";import{_ as Va}from"./ButtonTableOptions-ivpzFDPv.js";import"./position-engine-BrzQKXCo.js";import"./selection-CjJDPdFp.js";import"./format-DyQxkAtJ.js";import"./QList-D6hH9GPe.js";import"./QLinearProgress-C9Sex94R.js";import"./QTooltip-BIz5X8HU.js";const qa={class:"full-width row"},xa={class:"col-12"},Ea={class:"tabs-container"},ka={class:"contenido-principal"},Ca={key:0,class:"tab-panel"},Pa={class:"q-pa-md"},Ma={class:"container"},Na={class:"row items-center q-mb-md q-gutter-sm"},Aa={class:"col-12 col-md-3"},ja={class:"col-auto"},Ia={class:"col-auto"},Ta={key:0,class:"modal-content-grid"},Sa={class:"modal-column"},Ua={class:"data-grid"},Fa={class:"data-row"},Ga={class:"data-value"},Ha={class:"data-row"},Ba={class:"data-value"},Qa={class:"data-row"},za={class:"data-value"},Oa={class:"data-row"},La={class:"data-value"},$a={class:"modal-column"},Ka={class:"data-grid"},Ja={class:"data-row"},Wa={class:"data-value"},Ya={class:"data-row"},Xa={class:"data-value"},Za={class:"data-row"},et={class:"data-value"},at={class:"data-row"},tt={class:"data-value"},ot={class:"data-row"},st={class:"data-value"},lt={key:0,class:"col-12"},rt={class:"data-grid"},it={class:"text-weight-bold"},nt={class:"data-value"},dt={key:1,class:"col-12"},ut={class:"data-grid"},mt={class:"text-weight-bold"},ct={class:"data-value"},pt={class:"modal-header"},vt={class:"text-h6 flex items-center"},gt={class:"modal-column"},yt={key:0,class:"col-12"},ft={class:"col-12"},_t={class:"text-body2"},bt={class:"modal-column"},ht={class:"col-12 col-md-6"},wt={class:"col-12 col-md-6"},Dt={class:"col-12 col-md-6"},Rt={class:"col-12 col-md-6"},Vt={class:"col-12 col-md-6"},qt={class:"col-12 col-md-6"},xt={key:0,class:"col-12"},Et={class:"col-12 q-mt-md"},kt={class:"row justify-end q-gutter-sm"},Ct={class:"modal-header"},Pt={class:"modal-column"},Mt={class:"modal-column"},Nt={key:0,class:"modal-column"},At={key:1,class:"modal-column"},jt={key:2,class:"modal-column"},It={key:3,class:"modal-column"},Tt={class:"text-body2"},St={class:"row q-col-gutter-sm q-mb-md"},Ut={class:"col"},Ft={class:"col-auto"},Gt={key:0},Ht={class:"text-subtitle1 q-mb-sm"},Bt={class:"col"},Qt={class:"text-weight-bold"},zt={class:"col"},Ot={class:"text-weight-medium"},Lt={class:"row justify-between q-mt-lg"},$t={key:1},Kt={class:"q-gutter-sm"},Jt={class:"row justify-end q-gutter-sm full-width"},Wt={key:1,class:"tab-panel"},Yt={class:"container"},Xt={class:"recommendation-box q-mb-xl"},Zt={class:"recommendation-content"},eo={class:"upload-section q-mb-xl"},ao={class:"upload-input-group"},to={key:0,class:"file-info-box q-mb-lg"},oo={class:"file-name"},so={class:"file-size"},lo={class:"form-actions"},ro={class:"modal-header"},io={class:"text-h6 flex items-center"},no={class:"row justify-end q-gutter-sm full-width"},uo={class:"modal-header"},mo={class:"text-h6 flex items-center"},co={class:"row justify-end q-gutter-sm full-width"},po={__name:"PreRegistration",setup(vo){const k={APPROVED:0,PENDING:1,REJECTED:2},Ue={[k.APPROVED]:"Aprobado",[k.PENDING]:"Pendiente",[k.REJECTED]:"Rechazado"},Fe=ca(),P=ya(),u=_a(),_=t=>!!t||"Este campo es requerido",N=ba(),{loading:v,loadingTable:Ge,rows:ce,showAddDialog:te,showDetailDialog:oe,isEditMode:M,selectedEntity:y,formData:d,filtersData:pe,pagination:se,handlePaginationRequest:He,handleSearchChange:Be,clearFilters:Qe,openFormDialog:ze,closeFormDialog:le,openDetailsDialog:Oe,closeDetailsDialog:Le,fetchEntities:L}=ha({entityName:"registro",entityNamePlural:"registros",getDefaultFormData:()=>({_id:"",registration_number:"",modality_id:"",company_id:"",scheduled_start_date:"",total_requested_hours:"",working_days:"",daily_hours:"",sena_required_arl:!1,project_type:0,companyData:null}),endpoints:{list:"preRegistrations/listPreRegistrations",create:"preRegistrations/savePreRegistration",update:t=>`preRegistrations/updatePreRegistration/${t}`},buildFilterParams:(t,e)=>{const a=N.user?._id||N.user?.id||N.user?.userId;return e.apprentice=a,t.search?.trim()&&(e.registrationNumber=t.search.trim()),e},processResponse:t=>{let e=[];t?.msg?.preRegistrations&&Array.isArray(t.msg.preRegistrations)&&(e=t.msg.preRegistrations);const a=e.map(i=>({_id:i._id,registration_number:i.folderIdRegister||"N/A",modality:i.modalityId?.name||"Sin modalidad",modality_id:i.modalityId,company:i.companyId?.name||"Sin empresa",company_id:i.companyId,scheduled_start_date:i.startDate,total_requested_hours:i.totalRequestedHours||0,project_type:i.projectType!==void 0?i.projectType:0,registration_status:i.status!==void 0?i.status:2,working_days:i.workingDays||0,daily_hours:i.dailyHours||0,sena_required_arl:i.senaRequiredArl||!1,apprentice_id:i.apprenticeId?._id||i.apprenticeId,validatedById:i.validatedById,createdAt:i.createdAt,updatedAt:i.updatedAt,registration_date:i.createdAt||i.updatedAt,apprentice_observations:i.observations||[],admin_observations:i.adminObservations||""}));return{data:a,total:t?.msg?.totalDocuments||a.length}},buildPayload:t=>{const e=parseInt(t.project_type),a={modalityId:t.modality_id,startDate:t.scheduled_start_date,workingDays:parseInt(t.working_days)||5,dailyHours:parseInt(t.daily_hours)||8,senaRequiredArl:t.sena_required_arl||!1,projectType:e},i=parseInt(t.total_requested_hours)||0;return i>0&&(a.totalRequestedHours=i),t.companyData&&Object.keys(t.companyData).length>0?a.companyData=t.companyData:a.companyId=t.company_id,a},messages:{createSuccess:"Registro de EP creado exitosamente. Pendiente de validación administrativa.",updateSuccess:"Registro actualizado exitosamente",listError:"Error al cargar tus registros"}}),A=R("solicitudes"),ve=R(null),G=R(null),q=R([]),H=R([]),$=R([]),K=R(!1),J=R(!1),V=R(null),W=R(!1),Y=R(!1),r=R({projectName:"",projectDescription:"",projectType:1,modality_id:"",company_id:"",scheduled_start_date:"",total_requested_hours:"",total_requested_months:"",companyData:null,leaderDocument:"",groupMembers:[]}),re=R(null),j=R(""),x=R(1),D=R({companyNit:"",name:"",location:"",legalRepresentativePhone:"",legalRepresentativeName:"",legalRepresentativeEmail:"",legalRepresentativePosition:""}),ie=Q(()=>{const t=N.user;return t?`${t.firstName||""} ${t.lastName||""}`.trim():"Aprendiz"}),$e=[{name:"project_type",label:"Tipo de Registro",field:"project_type",sortable:!0,align:"left"},{name:"modality",label:"Modalidad",field:"modality",sortable:!0,align:"left"},{name:"company",label:"Empresa",field:"company",sortable:!0,align:"left"},{name:"scheduled_start_date",label:"Fecha Inicio",field:"scheduled_start_date",sortable:!0,align:"center"},{name:"total_requested_hours",label:"Horas Totales",field:"total_requested_hours",sortable:!0,align:"center"},{name:"registration_status",label:"Estado",field:"registration_status",sortable:!0,align:"center"},{name:"opciones",label:"Opciones",align:"center"}],I=Q(()=>{if(!d.value.modality_id)return!1;const t=q.value.find(e=>e._id===d.value.modality_id);return t?t.standardHours>0:!1}),T=Q(()=>{if(!d.value.modality_id)return!1;const t=q.value.find(a=>a._id===d.value.modality_id);return t?(t.standardMonths||0)>0:!1}),X=Q(()=>{if(!r.value.modality_id)return!1;const t=q.value.find(e=>e._id===r.value.modality_id);return t?t.standardHours>0:!1}),ge=Q(()=>{if(!r.value.modality_id)return!1;const t=q.value.find(a=>a._id===r.value.modality_id);return t?(t.standardMonths||0)>0:!1});async function ye(){try{if(v.value=!0,!d.value.modality_id){u.error("Debe seleccionar una modalidad");return}if(!d.value.company_id&&(!d.value.companyData||Object.keys(d.value.companyData).length===0)){u.error("Debe seleccionar o registrar una empresa");return}if(!d.value.scheduled_start_date){u.error("Debe seleccionar la fecha de inicio programada");return}if(!d.value.working_days||parseInt(d.value.working_days)<=0){u.error("Debe ingresar los días laborales");return}if(!d.value.daily_hours||parseInt(d.value.daily_hours)<=0){u.error("Debe ingresar las horas diarias");return}const e={modalityId:d.value.modality_id,startDate:d.value.scheduled_start_date,workingDays:parseInt(d.value.working_days)||5,dailyHours:parseInt(d.value.daily_hours)||8,senaRequiredArl:d.value.sena_required_arl||!1,projectType:0},a=parseInt(d.value.total_requested_hours)||0;a>0&&(e.totalRequestedHours=a),d.value.companyData&&Object.keys(d.value.companyData).length>0?e.companyData=d.value.companyData:e.companyId=d.value.company_id;const i=await Se("preRegistrations/savePreRegistration",e),C=i?.msg||"Pre-registro guardado exitosamente";return u.success(C),le(),await L(),i}catch(t){let e="Error al guardar el pre-registro";throw t.response?.data?.errors&&Array.isArray(t.response.data.errors)?e=t.response.data.errors.join(". "):t.response?.data?.msg?e=t.response.data.msg:t.response?.data?.message?e=t.response.data.message:t.message&&(e=t.message),u.error(e),t}finally{v.value=!1}}Pe(()=>d.value.modality_id,async t=>{if(t)try{let e;try{e=await ae(`modalities/getModality/${t}`)}catch{e=q.value.find(a=>a._id===t)}if(e){const a=e.standardHours||e.totalRequestedHours||0,i=e.standardMonths||e.totalRequestedMonths||0,C=e.workingDays||e.working_days||5,Ce=e.dailyHours||e.daily_hours||8;d.value.total_requested_hours="",d.value.total_requested_months="",a>0?d.value.total_requested_hours=a.toString():i>0&&(d.value.total_requested_months=i.toString())}}catch{const a=q.value.find(i=>i._id===t);if(a){const i=a.standardHours||0;d.value.total_requested_hours="",d.value.total_requested_months="",i>0&&(d.value.total_requested_hours=i.toString())}}}),Pe(()=>r.value.modality_id,async t=>{if(t)try{let e;try{e=await ae(`modalities/getModality/${t}`)}catch{e=q.value.find(a=>a._id===t)}if(e){const a=e.standardHours||e.totalRequestedHours||0,i=e.standardMonths||e.totalRequestedMonths||0;r.value.total_requested_hours="",r.value.total_requested_months="",a>0?r.value.total_requested_hours=a.toString():i>0?r.value.total_requested_months=i.toString():r.value.total_requested_months="6"}}catch{const a=q.value.find(i=>i._id===t);if(a){const i=a.standardHours||0;r.value.total_requested_hours="",r.value.total_requested_months="",i>0?r.value.total_requested_hours=i.toString():r.value.total_requested_months="6"}}});function fe(t){return Ue[t]||"Desconocido"}function _e(t){return{[k.APPROVED]:"positive",[k.PENDING]:"orange",[k.REJECTED]:"negative"}[t]||"grey"}function be(t){return{0:"Individual",1:"Grupal"}[t]||"Desconocido"}function he(t){return{0:"blue",1:"purple"}[t]||"grey"}function Ke(t){return t?t.registration_status===k.PENDING||t.registration_status===k.REJECTED:!1}function B(t){if(!t)return"N/A";if(typeof t=="string"&&t.includes("T")){const a=t.split("T")[0],[i,C,Ce]=a.split("-");return`${Ce}/${C}/${i}`}return new Date(t).toLocaleDateString("es-CO",{year:"numeric",month:"2-digit",day:"2-digit"})}function Je(t){if(t===0)return"0 Bytes";const e=1024,a=["Bytes","KB","MB","GB"],i=Math.floor(Math.log(t)/Math.log(e));return Math.round(t/Math.pow(e,i)*100)/100+" "+a[i]}async function We(){try{const t=await ae("modalities/listModalities");let e=[];t?.modalities&&Array.isArray(t.modalities)?e=t.modalities:t?.msg&&Array.isArray(t.msg)?e=t.msg:t?.data&&Array.isArray(t.data)?e=t.data:Array.isArray(t)&&(e=t),q.value=e.filter(a=>a.status===0),q.value.length===0&&u.warning("No hay modalidades activas disponibles. Contacta al administrador.")}catch{u.error("Error al cargar las modalidades. Por favor, recarga la página.")}}async function Ye(){try{const t=await ae("companies/listCompanies");let e=[];t?.msg?.companies&&Array.isArray(t.msg.companies)?e=t.msg.companies:t?.companies&&Array.isArray(t.companies)?e=t.companies:t?.msg&&Array.isArray(t.msg)?e=t.msg:t?.data&&Array.isArray(t.data)?e=t.data:Array.isArray(t)&&(e=t),$.value=e.filter(a=>a),H.value=[...$.value]}catch(t){u.error("Error al cargar las empresas: "+t.message)}}function we(t,e){e(()=>{if(!t||t.trim()==="")H.value=[...$.value];else{const a=t.toLowerCase();H.value=$.value.filter(i=>(i.name||"").toLowerCase().startsWith(a))}})}function De(){D.value={companyNit:"",name:"",location:"",legalRepresentativePhone:"",legalRepresentativeName:"",legalRepresentativeEmail:"",legalRepresentativePosition:""},W.value=!0}function Re(){W.value=!1,G.value&&G.value.resetValidation()}async function Xe(){if(!G.value)return;if(!await G.value.validate()){u.error("Por favor completa todos los campos");return}try{d.value.companyData={...D.value},d.value.company_id="",u.success(`Empresa "${D.value.name}" registrada temporalmente.`),Re()}catch{u.error("Error al registrar la empresa")}}function Ze(){r.value={projectName:"",projectDescription:"",projectType:1,modality_id:"",company_id:"",scheduled_start_date:"",total_requested_hours:"",total_requested_months:"",companyData:null,leaderDocument:"",groupMembers:[]},x.value=1,Y.value=!0}function Ve(){Y.value=!1,x.value=1,re.value&&re.value.resetValidation()}function ea(){x.value<4&&x.value++}function qe(){if(!j.value.trim())return;const t=j.value.trim();if(r.value.groupMembers.includes(t)){u.warning("Este documento ya está en el grupo");return}if(t===r.value.leaderDocument){u.warning("No puedes agregarte a ti mismo como miembro");return}if(!/^\d{8,10}$/.test(t)){u.warning("El documento debe tener entre 8 y 10 dígitos numéricos");return}r.value.groupMembers.push(t),j.value="",u.positive(`Documento ${t} agregado al grupo`)}function aa(t){r.value.groupMembers.splice(t,1)}async function ta(){try{if(v.value=!0,console.log("=== DEBUG REGISTRO GRUPAL ==="),console.log("Documentos a validar:",[r.value.leaderDocument,...r.value.groupMembers]),console.log("Registros actuales en tabla:",ce.value),!r.value.projectName.trim()){u.error("Debe ingresar el nombre del proyecto");return}if(!r.value.projectDescription.trim()||r.value.projectDescription.length<10){u.error("La descripción debe tener al menos 10 caracteres");return}if(!r.value.modality_id){u.error("Debe seleccionar una modalidad");return}if(!r.value.company_id&&(!r.value.companyData||Object.keys(r.value.companyData).length===0)){u.error("Debe seleccionar o registrar una empresa");return}if(!r.value.scheduled_start_date){u.error("Debe seleccionar la fecha de inicio programada");return}if(!r.value.leaderDocument.trim()){u.error("Debe ingresar su número de documento");return}if(!r.value.groupMembers||r.value.groupMembers.length===0){u.error("Debe agregar al menos 1 compañero al grupo");return}const t={projectName:r.value.projectName,projectType:r.value.projectType,projectDescription:r.value.projectDescription,modalityId:r.value.modality_id,startDate:r.value.scheduled_start_date,totalRequestedMonths:parseInt(r.value.total_requested_months)||0,apprentices:[r.value.leaderDocument,...r.value.groupMembers]},e=parseInt(r.value.total_requested_hours)||0,a=parseInt(r.value.total_requested_months)||0;X.value&&e>0?t.totalRequestedHours=e:ge.value&&a>0?t.totalRequestedMonths=a:X.value?t.totalRequestedHours=880:t.totalRequestedMonths=6,r.value.companyData&&Object.keys(r.value.companyData).length>0?t.companyData=r.value.companyData:t.companyId=r.value.company_id,console.log("Payload a enviar:",t);const i=await Se("projectPreRegistrations/saveProjectPreRegistration",t),C=i?.msg||"Pre-registro de proyecto creado exitosamente";return u.success(C),Ve(),await L(),i}catch(t){console.error("=== ERROR EN PRE-REGISTRO GRUPAL ==="),console.error("Error object:",t),console.error("Response data:",t.response?.data),console.error("Response status:",t.response?.status);let e="Error al guardar el pre-registro grupal";t.response?.data?.errors&&Array.isArray(t.response.data.errors)?e=t.response.data.errors.join(". "):t.response?.data?.msg?e=t.response.data.msg:t.response?.data?.message?e=t.response.data.message:t.message&&(e=t.message),u.error(`Error: ${e}`)}finally{v.value=!1}}async function oa(){if(!await ve.value.validate()){u.error("Por favor complete todos los campos correctamente");return}try{await ye(),u.info("El registro fue creado y enviado para validación administrativa")}catch{}}function sa(){P.dialog({title:"¿Enviar registro a validación?",message:"¿Estás seguro de enviar este registro al administrador para su validación?",cancel:{label:"Cancelar",color:"negative",flat:!0},ok:{label:"Enviar",color:"primary"},persistent:!0}).onOk(async()=>{try{v.value=!0;const t={registration_status:k.PENDING,admin_observations:"Registro enviado para validación"};await fa(`registrations/validateRegistration?apprentice=${d.value._id}`,t),u.success("Registro enviado exitosamente para validación"),le(),await L()}catch(t){const e=t.response?.data?.message||t.response?.data?.msg||t?.message||"Error al enviar el registro";u.error(e)}finally{v.value=!1}})}async function la(){if(!V.value){P.notify({type:"warning",message:"Por favor selecciona un archivo",position:"top"});return}try{v.value=!0,new FormData().append("documento",V.value),await new Promise(e=>setTimeout(e,2e3)),P.notify({type:"positive",message:"Documento enviado exitosamente",position:"top"}),xe(),ke()}catch(t){P.notify({type:"negative",message:t?.response?.data?.message||"Error al enviar el documento",position:"top"})}finally{v.value=!1}}function ra(t){if(t){if(t.size>10485760){P.notify({type:"warning",message:"El archivo excede el tamaño máximo permitido (10MB)",position:"top"}),V.value=null;return}["application/pdf"].includes(t.type)||(P.notify({type:"warning",message:"Tipo de archivo no permitido. Solo se aceptan PDF",position:"top"}),V.value=null)}}function ia(){if(!V.value){P.notify({type:"warning",message:"Por favor selecciona un archivo antes de continuar",position:"top"});return}K.value=!0}function xe(){K.value=!1}function Ee(){J.value=!1}function na(){ke(),Ee()}function da(){V.value&&(J.value=!0)}function ke(){V.value=null}return ma(async()=>{if(!N.isAuthenticated||!N.token){u.error("No estás autenticado. Por favor inicia sesión nuevamente."),Fe.push("/").catch(()=>{});return}await Promise.all([L(),We(),Ye()])}),(t,e)=>(m(),E(ga,{class:"q-pa-md pre-registration-page"},{default:n(()=>[s(wa,{to:"/app/aprendiz/inicio"}),o("div",qa,[o("div",xa,[s(Z,{class:"shadow-1 hero-card q-mb-xl"},{default:n(()=>[s(ee,null,{default:n(()=>[s(Da,{title:"Pre-Registro de Etapa Productiva",description:"Gestiona tu proceso de pre-registro y documentación requerida"})]),_:1})]),_:1})])]),o("div",Ea,[s(p,{class:Me(["tab-btn",{active:A.value==="solicitudes"}]),label:"Pre-Registro",onClick:e[0]||(e[0]=a=>A.value="solicitudes")},null,8,["class"]),s(p,{class:Me(["tab-btn",{active:A.value==="nuevo"}]),label:"Validación de Documentos",onClick:e[1]||(e[1]=a=>A.value="nuevo")},null,8,["class"])]),o("div",ka,[A.value==="solicitudes"?(m(),b("div",Ca,[o("div",Pa,[o("div",Ma,[o("div",Na,[o("div",Aa,[s(g,{modelValue:l(pe).search,"onUpdate:modelValue":e[2]||(e[2]=a=>l(pe).search=a),dense:"",outlined:"",placeholder:"Buscar por número...",onKeyup:Ne(l(Be),["enter"]),clearable:"",onClear:l(Qe)},{prepend:n(()=>[s(h,{name:"search",color:"green-8"})]),_:1},8,["modelValue","onKeyup","onClear"])]),o("div",ja,[s(p,{label:"+ Pre-registro Individual","custom-class":"gradient-btn",onClick:l(ze),style:{height:"36px",padding:"8px 16px"}},null,8,["onClick"])]),o("div",Ia,[s(p,{label:"+ Pre-registro Grupal","custom-class":"gradient-btn",onClick:Ze,style:{height:"36px",padding:"8px 16px"}})])]),s(Ra,{rows:l(ce),columns:$e,"row-key":"_id","no-data-label":"No tienes registros de EP. ¡Crea tu primer registro!","rows-per-page-options":[10,20,50],"initial-rows-per-page":10,loandingTable:l(Ge),pagination:l(se),"onUpdate:pagination":e[3]||(e[3]=a=>ne(se)?se.value=a:null),onRequest:l(He)},{"body-cell-project_type":n(a=>[s(S,{props:a},{default:n(()=>[s(z,{color:he(a.row.project_type)},{default:n(()=>[w(c(be(a.row.project_type)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-registration_status":n(a=>[s(S,{props:a},{default:n(()=>[s(z,{color:_e(a.row.registration_status)},{default:n(()=>[w(c(fe(a.row.registration_status)),1)]),_:2},1032,["color"])]),_:2},1032,["props"])]),"body-cell-modality":n(a=>[s(S,{props:a},{default:n(()=>[w(c(a.row.modality||"N/A"),1)]),_:2},1032,["props"])]),"body-cell-company":n(a=>[s(S,{props:a},{default:n(()=>[w(c(a.row.company||"N/A"),1)]),_:2},1032,["props"])]),"body-cell-scheduled_start_date":n(a=>[s(S,{props:a},{default:n(()=>[w(c(B(a.row.scheduled_start_date)),1)]),_:2},1032,["props"])]),"body-cell-opciones":n(a=>[s(S,{props:a,class:"text-center"},{default:n(()=>[s(Va,{icon:"visibility",tooltip:"Ver detalles",onClick:i=>l(Oe)(a.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","loandingTable","pagination","onRequest"])])]),s(F,{modelValue:l(oe),"onUpdate:modelValue":e[4]||(e[4]=a=>ne(oe)?oe.value=a:null),variant:"view",width:"800px","max-width":"95vw"},{header:n(()=>[s(h,{name:"visibility",size:"24px",class:"q-mr-sm"}),e[40]||(e[40]=o("span",{class:"text-h6"},"Detalles del Registro EP",-1))]),body:n(()=>[l(y)?(m(),b("div",Ta,[o("div",Sa,[e[45]||(e[45]=o("div",{class:"section-title"},"Información General",-1)),o("div",Ua,[o("div",Fa,[e[41]||(e[41]=o("div",{class:"text-weight-bold"},"Tipo de Registro:",-1)),o("div",Ga,[s(z,{color:he(l(y).project_type)},{default:n(()=>[w(c(be(l(y).project_type)),1)]),_:1},8,["color"])])]),o("div",Ha,[e[42]||(e[42]=o("div",{class:"text-weight-bold"},"Modalidad:",-1)),o("div",Ba,c(l(y).modality||"N/A"),1)]),o("div",Qa,[e[43]||(e[43]=o("div",{class:"text-weight-bold"},"Empresa:",-1)),o("div",za,c(l(y).company||"N/A"),1)]),o("div",Oa,[e[44]||(e[44]=o("div",{class:"text-weight-bold"},"Fecha de Inicio:",-1)),o("div",La,c(B(l(y).scheduled_start_date)),1)])])]),o("div",$a,[e[51]||(e[51]=o("div",{class:"section-title"},"Estado y Detalles",-1)),o("div",Ka,[o("div",Ja,[e[46]||(e[46]=o("div",{class:"text-weight-bold"},"Estado:",-1)),o("div",Wa,[s(z,{color:_e(l(y).registration_status)},{default:n(()=>[w(c(fe(l(y).registration_status)),1)]),_:1},8,["color"])])]),o("div",Ya,[e[47]||(e[47]=o("div",{class:"text-weight-bold"},"Total Horas Solicitadas:",-1)),o("div",Xa,c(l(y).total_requested_hours)+" horas",1)]),o("div",Za,[e[48]||(e[48]=o("div",{class:"text-weight-bold"},"Días Laborales:",-1)),o("div",et,c(l(y).working_days)+" días/semana",1)]),o("div",at,[e[49]||(e[49]=o("div",{class:"text-weight-bold"},"Horas Diarias:",-1)),o("div",tt,c(l(y).daily_hours)+" horas/día",1)]),o("div",ot,[e[50]||(e[50]=o("div",{class:"text-weight-bold"},"Fecha de Registro:",-1)),o("div",st,c(B(l(y).registration_date)),1)])])]),l(y).apprentice_observations&&l(y).apprentice_observations.length>0&&l(y).apprentice_observations.some(a=>a&&a.descripcion)?(m(),b("div",lt,[e[52]||(e[52]=o("div",{class:"section-title"},"Mis Observaciones",-1)),o("div",rt,[(m(!0),b(de,null,ue(l(y).apprentice_observations,(a,i)=>(m(),b("div",{class:"data-row",key:i},[o("div",it,c(B(a.fecha))+" - "+c(a.escrito_por)+":",1),o("div",nt,c(a.descripcion),1)]))),128))])])):f("",!0),l(y).admin_observations&&l(y).admin_observations.length>0&&l(y).admin_observations.some(a=>a&&a.descripcion)?(m(),b("div",dt,[e[53]||(e[53]=o("div",{class:"section-title"},"Observaciones del Administrador",-1)),o("div",ut,[(m(!0),b(de,null,ue(l(y).admin_observations,(a,i)=>(m(),b("div",{class:"data-row",key:i},[o("div",mt,c(B(a.fecha))+" - "+c(a.escrito_por)+":",1),o("div",ct,c(a.descripcion),1)]))),128))])])):f("",!0)])):f("",!0)]),footer:n(()=>[s(p,{label:"Cerrar","custom-class":"boton-cerrar",onClick:l(Le)},null,8,["onClick"])]),_:1},8,["modelValue"]),s(F,{modelValue:l(te),"onUpdate:modelValue":e[15]||(e[15]=a=>ne(te)?te.value=a:null),variant:"edit",width:"900px","max-width":"98vw"},{header:n(()=>[o("div",pt,[o("div",vt,[s(h,{name:l(M)?"edit":"add",size:"24px",class:"q-mr-sm"},null,8,["name"]),w(" "+c(l(M)?"Editar":"Nuevo")+" Registro de Etapa Productiva ",1)])])]),body:n(()=>[s(me,{ref_key:"formRef",ref:ve,class:"q-pa-md"},{default:n(()=>[o("div",gt,[l(M)?(m(),b("div",yt,[s(g,{modelValue:l(d).registration_number,"onUpdate:modelValue":e[5]||(e[5]=a=>l(d).registration_number=a),label:"Número de Registro",filled:"",dense:"",readonly:"",hint:"Número de registro asignado"},null,8,["modelValue"])])):f("",!0),o("div",ft,[s(O,{class:"bg-blue-1"},{avatar:n(()=>[s(h,{name:"account_circle",color:"primary"})]),default:n(()=>[o("div",_t,[e[54]||(e[54]=o("strong",null,"Registrando para:",-1)),w(" "+c(ie.value),1)])]),_:1})]),e[56]||(e[56]=o("div",{class:"section-title"},"Detalles de la Etapa Productiva",-1)),s(U,{modelValue:l(d).modality_id,"onUpdate:modelValue":e[6]||(e[6]=a=>l(d).modality_id=a),options:q.value,"option-value":"_id","option-label":"name","emit-value":"","map-options":"",label:"Modalidad EP *",filled:"",dense:"",rules:[_]},{"no-option":n(()=>[s(Ie,null,{default:n(()=>[s(Te,{class:"text-grey"},{default:n(()=>[...e[55]||(e[55]=[w(" No hay modalidades disponibles ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"]),s(g,{modelValue:l(d).scheduled_start_date,"onUpdate:modelValue":e[7]||(e[7]=a=>l(d).scheduled_start_date=a),label:"Fecha de Inicio Programada *",filled:"",dense:"",type:"date",rules:[_]},null,8,["modelValue","rules"]),s(g,{modelValue:l(d).working_days,"onUpdate:modelValue":e[8]||(e[8]=a=>l(d).working_days=a),modelModifiers:{number:!0},label:"Días Laborales por Semana *",filled:"",dense:"",type:"number",min:"1",max:"7",rules:[_,a=>{const i=parseInt(a)||0;return i>=1&&i<=7||"Debe estar entre 1 y 7"}]},null,8,["modelValue","rules"]),s(g,{modelValue:l(d).daily_hours,"onUpdate:modelValue":e[9]||(e[9]=a=>l(d).daily_hours=a),modelModifiers:{number:!0},label:"Horas Diarias *",filled:"",dense:"",type:"number",min:"1",max:"24",rules:[_,a=>{const i=parseInt(a)||0;return i>=1&&i<=24||"Debe estar entre 1 y 24"}]},null,8,["modelValue","rules"])]),o("div",bt,[e[61]||(e[61]=o("div",{class:"section-title"},"Configuración de Horas",-1)),o("div",ht,[s(g,{modelValue:l(d).total_requested_hours,"onUpdate:modelValue":e[10]||(e[10]=a=>l(d).total_requested_hours=a),modelModifiers:{number:!0},label:"Total Horas Solicitadas *",filled:"",dense:"",type:"number",readonly:!I.value,disable:!I.value,rules:I.value?[_,a=>(parseInt(a)||0)>0||"Debe ser mayor a 0"]:[],"bg-color":I.value?"white":"grey-3"},Ae({prepend:n(()=>[s(h,{name:"schedule",color:I.value?"primary":"grey"},null,8,["color"])]),_:2},[I.value?void 0:{name:"hint",fn:n(()=>[e[57]||(e[57]=w(" Esta modalidad no usa horas ",-1))]),key:"0"}]),1032,["modelValue","readonly","disable","rules","bg-color"])]),o("div",wt,[s(g,{modelValue:l(d).total_requested_months,"onUpdate:modelValue":e[11]||(e[11]=a=>l(d).total_requested_months=a),modelModifiers:{number:!0},label:"Total Meses Solicitados *",filled:"",dense:"",type:"number",readonly:!T.value,disable:!T.value,rules:T.value?[_,a=>(parseInt(a)||0)>0||"Debe ser mayor a 0"]:[],"bg-color":T.value?"white":"grey-3"},Ae({prepend:n(()=>[s(h,{name:"calendar_month",color:T.value?"primary":"grey"},null,8,["color"])]),_:2},[T.value?void 0:{name:"hint",fn:n(()=>[e[58]||(e[58]=w(" Esta modalidad no usa meses ",-1))]),key:"0"}]),1032,["modelValue","readonly","disable","rules","bg-color"])]),o("div",Dt,[s(pa,{modelValue:l(d).sena_required_arl,"onUpdate:modelValue":e[12]||(e[12]=a=>l(d).sena_required_arl=a),label:"ARL del SENA Requerida",color:"primary"},null,8,["modelValue"])]),o("div",Rt,[s(U,{modelValue:l(d).project_type,"onUpdate:modelValue":e[13]||(e[13]=a=>l(d).project_type=a),label:"Tipo de Proyecto",filled:"",dense:"",options:[{label:"Proyecto Individual",value:0}],"emit-value":"","map-options":"",readonly:""},null,8,["modelValue"])]),e[62]||(e[62]=o("div",{class:"section-title"},"Información Empresas",-1)),o("div",Vt,[s(U,{modelValue:l(d).company_id,"onUpdate:modelValue":e[14]||(e[14]=a=>l(d).company_id=a),options:H.value,"option-value":"_id","option-label":"name","emit-value":"","map-options":"",label:"Empresa *",filled:"",dense:"",rules:[_],"use-input":"","input-debounce":"300",onFilter:we},{"no-option":n(()=>[s(Ie,null,{default:n(()=>[s(Te,{class:"text-grey"},{default:n(()=>[...e[59]||(e[59]=[w(" No hay empresas disponibles ",-1)])]),_:1})]),_:1})]),_:1},8,["modelValue","options","rules"])]),o("div",qt,[s(p,{label:"+ Crear Nueva Empresa","custom-class":"gradient-btn",onClick:De,style:{width:"100%",height:"40px"}})]),l(M)?(m(),b("div",xt,[s(O,{class:"bg-orange-1"},{avatar:n(()=>[s(h,{name:"warning",color:"orange"})]),default:n(()=>[e[60]||(e[60]=o("div",{class:"text-body2"}," Solo puedes editar registros que aún no han sido validados por el administrador. ",-1))]),_:1})])):f("",!0)])]),_:1},512)]),footer:n(()=>[o("div",Et,[o("div",kt,[s(p,{label:"Cancelar","custom-class":"boton-cerrar",onClick:l(le)},null,8,["onClick"]),l(M)?f("",!0):(m(),E(p,{key:0,label:"Registrar y Enviar","custom-class":"boton-enviar",onClick:oa,loading:l(v)},null,8,["loading"])),l(M)?(m(),E(p,{key:1,label:"Actualizar","custom-class":"boton-enviar",onClick:ye,loading:l(v)},null,8,["loading"])):f("",!0),l(M)&&Ke(l(y))?(m(),E(p,{key:2,label:"Enviar a Validación","custom-class":"boton-enviar",onClick:sa,loading:l(v)},null,8,["loading"])):f("",!0)])])]),_:1},8,["modelValue"]),s(F,{modelValue:W.value,"onUpdate:modelValue":e[23]||(e[23]=a=>W.value=a),variant:"edit",width:"700px","max-width":"98vw"},{header:n(()=>[o("div",Ct,[s(h,{name:"business",size:"24px",class:"q-mr-sm"}),e[63]||(e[63]=o("span",{class:"text-h6"},"Registrar Nueva Empresa",-1))])]),body:n(()=>[s(me,{ref_key:"newCompanyFormRef",ref:G,class:"q-pa-md"},{default:n(()=>[o("div",Pt,[e[64]||(e[64]=o("div",{class:"section-title"},"Datos de la empresa",-1)),s(g,{modelValue:D.value.companyNit,"onUpdate:modelValue":e[16]||(e[16]=a=>D.value.companyNit=a),label:"NIT de la Empresa *",filled:"",dense:"",rules:[_]},null,8,["modelValue","rules"]),s(g,{modelValue:D.value.name,"onUpdate:modelValue":e[17]||(e[17]=a=>D.value.name=a),label:"Nombre de la Empresa *",filled:"",dense:"",rules:[_]},null,8,["modelValue","rules"]),s(g,{modelValue:D.value.location,"onUpdate:modelValue":e[18]||(e[18]=a=>D.value.location=a),label:"Ubicación/Ciudad *",filled:"",dense:"",rules:[_]},null,8,["modelValue","rules"])]),o("div",Mt,[e[65]||(e[65]=o("div",{class:"section-title"},"Contacto de la empresa",-1)),s(g,{modelValue:D.value.legalRepresentativeName,"onUpdate:modelValue":e[19]||(e[19]=a=>D.value.legalRepresentativeName=a),label:"Nombre del Representante Legal *",filled:"",dense:"",rules:[_]},null,8,["modelValue","rules"]),s(g,{modelValue:D.value.legalRepresentativeEmail,"onUpdate:modelValue":e[20]||(e[20]=a=>D.value.legalRepresentativeEmail=a),label:"Email del Representante *",filled:"",dense:"",type:"email",rules:[_]},null,8,["modelValue","rules"]),s(g,{modelValue:D.value.legalRepresentativePhone,"onUpdate:modelValue":e[21]||(e[21]=a=>D.value.legalRepresentativePhone=a),label:"Teléfono del Representante *",filled:"",dense:"",rules:[_]},null,8,["modelValue","rules"]),s(g,{modelValue:D.value.legalRepresentativePosition,"onUpdate:modelValue":e[22]||(e[22]=a=>D.value.legalRepresentativePosition=a),label:"Cargo del Representante *",filled:"",dense:"",rules:[_]},null,8,["modelValue","rules"])])]),_:1},512)]),footer:n(()=>[s(p,{label:"Cancelar","custom-class":"boton-cerrar",onClick:Re}),s(p,{label:"Registrar Empresa","custom-class":"boton-enviar",onClick:Xe,loading:l(v)},null,8,["loading"])]),_:1},8,["modelValue"]),s(F,{modelValue:Y.value,"onUpdate:modelValue":e[36]||(e[36]=a=>Y.value=a),variant:"edit",width:"900px","max-width":"98vw",persistent:""},{header:n(()=>[s(h,{name:"groups",size:"24px",class:"q-mr-sm"}),e[66]||(e[66]=o("span",{class:"text-h6"},"Pre-registro Grupal de Etapa Productiva",-1))]),body:n(()=>[s(me,{ref_key:"groupFormRef",ref:re,class:"q-pa-md"},{default:n(()=>[x.value===1?(m(),b("div",Nt,[e[67]||(e[67]=o("div",{class:"section-title"},"Información del Proyecto",-1)),s(g,{modelValue:r.value.projectName,"onUpdate:modelValue":e[24]||(e[24]=a=>r.value.projectName=a),label:"Nombre del Proyecto",filled:"",dense:"",rules:[_],hint:"Ingrese el nombre descriptivo del proyecto grupal"},null,8,["modelValue","rules"]),s(g,{modelValue:r.value.projectDescription,"onUpdate:modelValue":e[25]||(e[25]=a=>r.value.projectDescription=a),label:"Descripción del Proyecto",type:"textarea",filled:"",dense:"",rows:"4",rules:[_],hint:"Mínimo 10 caracteres requeridos",counter:"",maxlength:"500"},null,8,["modelValue","rules"]),s(U,{modelValue:r.value.projectType,"onUpdate:modelValue":e[26]||(e[26]=a=>r.value.projectType=a),label:"Tipo de Proyecto",filled:"",dense:"",options:[{label:"Proyecto Grupal",value:1}],"emit-value":"","map-options":"",rules:[_],readonly:""},null,8,["modelValue","rules"])])):f("",!0),x.value===2?(m(),b("div",At,[e[68]||(e[68]=o("div",{class:"section-title"},"Configuración de Etapa Productiva",-1)),s(U,{modelValue:r.value.modality_id,"onUpdate:modelValue":e[27]||(e[27]=a=>r.value.modality_id=a),label:"Modalidad EP",filled:"",dense:"",options:q.value,"option-value":"_id","option-label":"name","emit-value":"","map-options":"",rules:[_],"use-input":"","input-debounce":"300"},null,8,["modelValue","options","rules"]),s(g,{modelValue:r.value.scheduled_start_date,"onUpdate:modelValue":e[28]||(e[28]=a=>r.value.scheduled_start_date=a),label:"Fecha de Inicio Programada",filled:"",dense:"",type:"date",rules:[_],hint:"dd/mm/aaaa"},null,8,["modelValue","rules"]),X.value?(m(),E(g,{key:0,modelValue:r.value.total_requested_hours,"onUpdate:modelValue":e[29]||(e[29]=a=>r.value.total_requested_hours=a),label:"Total Horas Solicitadas",filled:"",dense:"",type:"number",min:"1",placeholder:"880"},null,8,["modelValue"])):f("",!0),ge.value?(m(),E(g,{key:1,modelValue:r.value.total_requested_months,"onUpdate:modelValue":e[30]||(e[30]=a=>r.value.total_requested_months=a),label:"Total Meses Solicitados",filled:"",dense:"",type:"number",min:"1",max:"12",placeholder:"6",hint:"Duración del proyecto en meses"},null,8,["modelValue"])):f("",!0),s(g,{modelValue:r.value.total_requested_months,"onUpdate:modelValue":e[31]||(e[31]=a=>r.value.total_requested_months=a),label:"Total de Meses Solicitados",type:"number",min:"1",max:"24",outlined:"",dense:"",disable:X.value,rules:[a=>!a||a>0||"Debe ser mayor a 0"]},null,8,["modelValue","disable","rules"])])):f("",!0),x.value===3?(m(),b("div",jt,[e[69]||(e[69]=o("div",{class:"section-title"},"Información Empresas",-1)),s(U,{modelValue:r.value.company_id,"onUpdate:modelValue":e[32]||(e[32]=a=>r.value.company_id=a),label:"Empresa",filled:"",dense:"",options:H.value,"option-value":"_id","option-label":"name","emit-value":"","map-options":"","use-input":"","input-debounce":"300",onFilter:we,clearable:""},null,8,["modelValue","options"]),s(p,{label:"+ CREAR NUEVA EMPRESA","custom-class":"gradient-btn",onClick:De,style:{width:"100%","margin-top":"10px"}})])):f("",!0),x.value===4?(m(),b("div",It,[e[77]||(e[77]=o("div",{class:"section-title"},"Selección de Compañeros",-1)),s(O,{class:"bg-blue-1 q-mb-md"},{avatar:n(()=>[s(h,{name:"account_circle",color:"primary"})]),default:n(()=>[o("div",Tt,[e[70]||(e[70]=o("strong",null,"Líder del grupo:",-1)),w(" "+c(ie.value),1),e[71]||(e[71]=o("br",null,null,-1)),e[72]||(e[72]=o("small",null,"Ingresa tu documento y el de tus compañeros para el registro grupal",-1))])]),_:1}),s(O,{class:"bg-orange-1 q-mb-md"},{avatar:n(()=>[s(h,{name:"info",color:"warning"})]),default:n(()=>[e[73]||(e[73]=o("div",{class:"text-body2"},[o("strong",null,"Importante:"),w(" Los aprendices no deben tener otros pre-registros activos (individuales o grupales) para poder ser incluidos en este grupo. ")],-1))]),_:1}),s(g,{modelValue:r.value.leaderDocument,"onUpdate:modelValue":e[33]||(e[33]=a=>r.value.leaderDocument=a),label:"Tu Número de Documento",filled:"",dense:"",rules:[_],hint:"Tu documento como líder del grupo"},null,8,["modelValue","rules"]),e[78]||(e[78]=o("div",{class:"text-h6 q-my-md"},"Agregar Compañeros al Grupo",-1)),o("div",St,[o("div",Ut,[s(g,{modelValue:j.value,"onUpdate:modelValue":e[34]||(e[34]=a=>j.value=a),label:"Número de Documento del Compañero",filled:"",dense:"",onKeyup:Ne(qe,["enter"])},null,8,["modelValue"])]),o("div",Ft,[s(je,{icon:"add",color:"primary",onClick:qe,disable:!j.value.trim()},null,8,["disable"])])]),r.value.groupMembers?.length>0?(m(),b("div",Gt,[o("div",Ht,"Integrantes del Proyecto ("+c(r.value.groupMembers.length+1)+" total):",1),s(Z,{flat:"",bordered:"",class:"q-mb-xs"},{default:n(()=>[s(ee,{class:"row items-center q-py-sm"},{default:n(()=>[s(h,{name:"account_circle",color:"primary",class:"q-mr-sm"}),o("div",Bt,[o("div",Qt,c(ie.value),1),e[74]||(e[74]=o("div",{class:"text-caption"},"Líder del registro",-1))]),s(z,{color:"primary",label:"LÍ"})]),_:1})]),_:1}),(m(!0),b(de,null,ue(r.value.groupMembers,(a,i)=>(m(),E(Z,{flat:"",bordered:"",class:"q-mb-xs",key:i},{default:n(()=>[s(ee,{class:"row items-center q-py-sm"},{default:n(()=>[s(h,{name:"person",color:"grey-6",class:"q-mr-sm"}),o("div",zt,[o("div",Ot,c(a),1),e[75]||(e[75]=o("div",{class:"text-caption"},"Miembro del grupo",-1))]),s(je,{flat:"",round:"",dense:"",icon:"remove",color:"negative",onClick:C=>aa(i),size:"sm"},null,8,["onClick"])]),_:2},1024)]),_:2},1024))),128))])):f("",!0),r.value.groupMembers?.length===0?(m(),E(O,{key:1,color:"warning",class:"q-mt-md"},{avatar:n(()=>[s(h,{name:"warning"})]),default:n(()=>[e[76]||(e[76]=w(" Debe agregar al menos 1 compañero para el registro grupal ",-1))]),_:1})):f("",!0)])):f("",!0),o("div",Lt,[x.value>1?(m(),E(p,{key:0,label:"Anterior","custom-class":"boton-cerrar",onClick:e[35]||(e[35]=a=>x.value--)})):(m(),b("div",$t)),o("div",Kt,[x.value<4?(m(),E(p,{key:0,label:"Siguiente","custom-class":"gradient-btn",onClick:ea})):f("",!0),x.value===4?(m(),E(p,{key:1,label:"REGISTRAR GRUPO Y ENVIAR","custom-class":"boton-enviar",onClick:ta,disable:l(v)||r.value.groupMembers?.length===0,loading:l(v)},null,8,["disable","loading"])):f("",!0)])])]),_:1},512)]),footer:n(()=>[o("div",Jt,[s(p,{label:"CANCELAR","custom-class":"boton-cerrar",onClick:Ve,disable:l(v)},null,8,["disable"])])]),_:1},8,["modelValue"])])):f("",!0),A.value==="nuevo"?(m(),b("div",Wt,[o("div",Yt,[s(Z,{class:"section-card q-mb-lg"},{default:n(()=>[s(ee,{class:"section-content"},{default:n(()=>[e[81]||(e[81]=o("div",{class:"message-section q-mb-lg"},[o("div",{class:"message-text q-mb-md"}," Tu prerregistro ha sido aprobado exitosamente. "),o("div",{class:"message-text"}," Para continuar con el proceso, por favor envía los siguientes documentos utilizando las plantillas adjuntas: ")],-1)),o("div",Xt,[o("div",Zt,[s(h,{name:"info",size:"20px",class:"q-mr-sm"}),e[79]||(e[79]=o("div",{class:"recommendation-text"}," Te recomendamos revisar cuidadosamente que toda la información esté completa y firmada antes de enviarla. ",-1))])]),o("div",eo,[e[80]||(e[80]=o("div",{class:"upload-label-group q-mb-md"},[o("div",{class:"upload-label"},"Seleccionar archivo"),o("div",{class:"upload-sublabel"},"Formatos permitidos: PDF")],-1)),o("div",ao,[s(va,{modelValue:V.value,"onUpdate:modelValue":[e[37]||(e[37]=a=>V.value=a),ra],filled:"",dense:"",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png",disable:l(v),clearable:"",class:"custom-file-input"},{prepend:n(()=>[s(h,{name:"attach_file"})]),_:1},8,["modelValue","disable"])])]),V.value?(m(),b("div",to,[s(h,{name:"description",size:"18px",class:"q-mr-sm"}),o("span",oo,c(V.value.name),1),o("span",so,"("+c(Je(V.value.size))+")",1)])):f("",!0),o("div",lo,[s(p,{label:"Enviar Documentos","custom-class":"boton-enviar",loading:l(v),disable:!V.value,onClick:ia},null,8,["loading","disable"]),s(p,{label:"Cancelar","custom-class":"boton-cerrar",disable:l(v),onClick:da},null,8,["disable"])])]),_:1})]),_:1})]),s(F,{modelValue:K.value,"onUpdate:modelValue":e[38]||(e[38]=a=>K.value=a),width:"500px","max-width":"95vw",persistent:""},{header:n(()=>[o("div",ro,[o("div",io,[s(h,{name:"send",class:"q-mr-sm"}),e[82]||(e[82]=w(" Confirmar Envío ",-1))])])]),body:n(()=>[...e[83]||(e[83]=[o("div",{class:"q-pa-md text-center"},[o("div",{class:"text-h6 q-mb-md"},"¿Está seguro de que desea enviar este documento?"),o("p",{class:"confirmation-text text-body1"}," Una vez enviado, el documento será revisado por el equipo administrativo. Recibirás una notificación cuando tu documento haya sido validado. ")],-1)])]),footer:n(()=>[o("div",no,[s(p,{label:"Cancelar","custom-class":"boton-cerrar",onClick:xe,disable:l(v)},null,8,["disable"]),s(p,{label:"Enviar","custom-class":"boton-enviar",onClick:la,loading:l(v)},null,8,["loading"])])]),_:1},8,["modelValue"]),s(F,{modelValue:J.value,"onUpdate:modelValue":e[39]||(e[39]=a=>J.value=a),width:"500px","max-width":"95vw",persistent:""},{header:n(()=>[o("div",uo,[o("div",mo,[s(h,{name:"cancel",class:"q-mr-sm",color:"negative"}),e[84]||(e[84]=w(" Confirmar Cancelación ",-1))])])]),body:n(()=>[...e[85]||(e[85]=[o("div",{class:"q-pa-md text-center"},[o("div",{class:"text-h6 q-mb-md"},"¿Estás seguro de que deseas cancelar?"),o("p",{class:"confirmation-text text-body1"}," Se perderá el archivo seleccionado y tendrás que volver a seleccionarlo si decides continuar más tarde. ")],-1)])]),footer:n(()=>[o("div",co,[s(p,{label:"No, continuar","custom-class":"boton-enviar",onClick:Ee,disable:l(v)},null,8,["disable"]),s(p,{label:"Sí, cancelar","custom-class":"boton-cerrar",onClick:na,disable:l(v)},null,8,["disable"])])]),_:1},8,["modelValue"])])):f("",!0)])]),_:1}))}},Ho=ua(po,[["__scopeId","data-v-1bb8800b"]]);export{Ho as default};
