import{x as Z,N as ee,y as s,a7 as ge,an as Pt,j as Ae,M as Ne,O as Qe,m,ar as Ct,r as p,w as V,as as qt,aq as Te,aN as He,a5 as Ue,T as _t,S as Rt,U as ze,V as kt,be as Tt,bf as xe,bg as be,bh as Fe,bi as xt,q as Ie,bj as Ft,ah as fe,bc as N,v as X,ad as Bt,_ as Ot,h as Lt,c as Vt,o as Be,b as Mt,ag as Oe,p as Le,a as Ve,b2 as Me,bk as De,bl as je}from"./index-D8k0Z2VW.js";import{Q as Dt}from"./QList-D6hH9GPe.js";import{u as jt,b as pt,c as Ke,Q as Et}from"./QSelect-CCFBgF8v.js";import{Q as $t}from"./QLinearProgress-C9Sex94R.js";const At=Z({name:"QTh",props:{props:Object,autoWidth:Boolean},emits:["click"],setup(e,{slots:a,emit:r}){const d=ee(),{proxy:{$q:n}}=d,g=u=>{r("click",u)};return()=>{if(e.props===void 0)return s("th",{class:e.autoWidth===!0?"q-table--col-auto-width":"",onClick:g},ge(a.default));let u,i;const c=d.vnode.key;if(c){if(u=e.props.colsMap[c],u===void 0)return}else u=e.props.col;if(u.sortable===!0){const l=u.align==="right"?"unshift":"push";i=Pt(a.default,[]),i[l](s(Ae,{class:u.__iconClass,name:n.iconSet.table.arrowUp}))}else i=ge(a.default);const S={class:u.__thClass+(e.autoWidth===!0?" q-table--col-auto-width":""),style:u.headerStyle,onClick:l=>{u.sortable===!0&&e.props.sort(u),g(l)}};return s("th",S,i)}}}),Nt=["horizontal","vertical","cell","none"],Qt=Z({name:"QMarkupTable",props:{...Ne,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,wrapCells:Boolean,separator:{type:String,default:"horizontal",validator:e=>Nt.includes(e)}},setup(e,{slots:a}){const r=ee(),d=Qe(e,r.proxy.$q),n=m(()=>`q-markup-table q-table__container q-table__card q-table--${e.separator}-separator`+(d.value===!0?" q-table--dark q-table__card--dark q-dark":"")+(e.dense===!0?" q-table--dense":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")+(e.square===!0?" q-table--square":"")+(e.wrapCells===!1?" q-table--no-wrap":""));return()=>s("div",{class:n.value},[s("table",{class:"q-table"},ge(a.default))])}});function We(e,a){return s("div",e,[s("table",{class:"q-table"},a)])}const Ht={list:Dt,table:Qt},Ut=["list","table","__qtable"],zt=Z({name:"QVirtualScroll",props:{...jt,type:{type:String,default:"list",validator:e=>Ut.includes(e)},items:{type:Array,default:()=>[]},itemsFn:Function,itemsSize:Number,scrollTarget:Ct},setup(e,{slots:a,attrs:r}){let d;const n=p(null),g=m(()=>e.itemsSize>=0&&e.itemsFn!==void 0?parseInt(e.itemsSize,10):Array.isArray(e.items)?e.items.length:0),{virtualScrollSliceRange:u,localResetVirtualScroll:i,padVirtualScroll:c,onVirtualScrollEvt:S}=pt({virtualScrollLength:g,getVirtualScrollTarget:R,getVirtualScrollEl:C}),l=m(()=>{if(g.value===0)return[];const B=(O,T)=>({index:u.value.from+T,item:O});return e.itemsFn===void 0?e.items.slice(u.value.from,u.value.to).map(B):e.itemsFn(u.value.from,u.value.to-u.value.from).map(B)}),b=m(()=>"q-virtual-scroll q-virtual-scroll"+(e.virtualScrollHorizontal===!0?"--horizontal":"--vertical")+(e.scrollTarget!==void 0?"":" scroll")),P=m(()=>e.scrollTarget!==void 0?{}:{tabindex:0});V(g,()=>{i()}),V(()=>e.scrollTarget,()=>{w(),h()});function C(){return n.value.$el||n.value}function R(){return d}function h(){d=qt(C(),e.scrollTarget),d.addEventListener("scroll",S,Te.passive)}function w(){d!==void 0&&(d.removeEventListener("scroll",S,Te.passive),d=void 0)}function F(){let B=c(e.type==="list"?"div":"tbody",l.value.map(a.default));return a.before!==void 0&&(B=a.before().concat(B)),kt(a.after,B)}return He(()=>{i()}),Ue(()=>{h()}),_t(()=>{h()}),Rt(()=>{w()}),ze(()=>{w()}),()=>{if(a.default===void 0){console.error("QVirtualScroll: default scoped slot is required for rendering");return}return e.type==="__qtable"?We({ref:n,class:"q-table__middle "+b.value},F()):s(Ht[e.type],{...r,ref:n,class:[r.class,b.value],...P.value},F)}}});let Q=0;const It={fullscreen:Boolean,noRouteFullscreenExit:Boolean},Kt=["update:fullscreen","fullscreen"];function Wt(){const e=ee(),{props:a,emit:r,proxy:d}=e;let n,g,u;const i=p(!1);Tt(e)===!0&&V(()=>d.$route.fullPath,()=>{a.noRouteFullscreenExit!==!0&&l()}),V(()=>a.fullscreen,b=>{i.value!==b&&c()}),V(i,b=>{r("update:fullscreen",b),r("fullscreen",b)});function c(){i.value===!0?l():S()}function S(){i.value!==!0&&(i.value=!0,u=d.$el.parentNode,u.replaceChild(g,d.$el),document.body.appendChild(d.$el),Q++,Q===1&&document.body.classList.add("q-body--fullscreen-mixin"),n={handler:l},xe.add(n))}function l(){i.value===!0&&(n!==void 0&&(xe.remove(n),n=void 0),u.replaceChild(d.$el,g),i.value=!1,Q=Math.max(0,Q-1),Q===0&&(document.body.classList.remove("q-body--fullscreen-mixin"),d.$el.scrollIntoView!==void 0&&setTimeout(()=>{d.$el.scrollIntoView()})))}return He(()=>{g=document.createElement("span")}),Ue(()=>{a.fullscreen===!0&&S()}),ze(l),Object.assign(d,{toggleFullscreen:c,setFullscreen:S,exitFullscreen:l}),{inFullscreen:i,toggleFullscreen:c}}function Gt(e,a){return new Date(e)-new Date(a)}const Jt={sortMethod:Function,binaryStateSort:Boolean,columnSortOrder:{type:String,validator:e=>e==="ad"||e==="da",default:"ad"}};function Xt(e,a,r,d){const n=m(()=>{const{sortBy:i}=a.value;return i&&r.value.find(c=>c.name===i)||null}),g=m(()=>e.sortMethod!==void 0?e.sortMethod:(i,c,S)=>{const l=r.value.find(C=>C.name===c);if(l===void 0||l.field===void 0)return i;const b=S===!0?-1:1,P=typeof l.field=="function"?C=>l.field(C):C=>C[l.field];return i.sort((C,R)=>{let h=P(C),w=P(R);return l.rawSort!==void 0?l.rawSort(h,w,C,R)*b:h==null?-1*b:w==null?1*b:l.sort!==void 0?l.sort(h,w,C,R)*b:be(h)===!0&&be(w)===!0?(h-w)*b:Fe(h)===!0&&Fe(w)===!0?Gt(h,w)*b:typeof h=="boolean"&&typeof w=="boolean"?(h-w)*b:([h,w]=[h,w].map(F=>(F+"").toLocaleString().toLowerCase()),h<w?-1*b:h===w?0:b)})});function u(i){let c=e.columnSortOrder;if(xt(i)===!0)i.sortOrder&&(c=i.sortOrder),i=i.name;else{const b=r.value.find(P=>P.name===i);b?.sortOrder&&(c=b.sortOrder)}let{sortBy:S,descending:l}=a.value;S!==i?(S=i,l=c==="da"):e.binaryStateSort===!0?l=!l:l===!0?c==="ad"?S=null:l=!1:c==="ad"?l=!0:S=null,d({sortBy:S,descending:l,page:1})}return{columnToSort:n,computedSortMethod:g,sort:u}}const Yt={filter:[String,Object],filterMethod:Function};function Zt(e,a){const r=m(()=>e.filterMethod!==void 0?e.filterMethod:(d,n,g,u)=>{const i=n?n.toLowerCase():"";return d.filter(c=>g.some(S=>{const l=u(S,c)+"";return(l==="undefined"||l==="null"?"":l.toLowerCase()).indexOf(i)!==-1}))});return V(()=>e.filter,()=>{Ie(()=>{a({page:1},!0)})},{deep:!0}),{computedFilterMethod:r}}function el(e,a){for(const r in a)if(a[r]!==e[r])return!1;return!0}function pe(e){return e.page<1&&(e.page=1),e.rowsPerPage!==void 0&&e.rowsPerPage<1&&(e.rowsPerPage=0),e}const tl={pagination:Object,rowsPerPageOptions:{type:Array,default:()=>[5,7,10,15,20,25,50,0]},"onUpdate:pagination":[Function,Array]};function ll(e,a){const{props:r,emit:d}=e,n=p(Object.assign({sortBy:null,descending:!1,page:1,rowsPerPage:r.rowsPerPageOptions.length!==0?r.rowsPerPageOptions[0]:5},r.pagination)),g=m(()=>{const l=r["onUpdate:pagination"]!==void 0?{...n.value,...r.pagination}:n.value;return pe(l)}),u=m(()=>g.value.rowsNumber!==void 0);function i(l){c({pagination:l,filter:r.filter})}function c(l={}){Ie(()=>{d("request",{pagination:l.pagination||g.value,filter:l.filter||r.filter,getCellValue:a})})}function S(l,b){const P=pe({...g.value,...l});if(el(g.value,P)===!0){u.value===!0&&b===!0&&i(P);return}if(u.value===!0){i(P);return}r.pagination!==void 0&&r["onUpdate:pagination"]!==void 0?d("update:pagination",P):n.value=P}return{innerPagination:n,computedPagination:g,isServerSide:u,requestServerInteraction:c,setPagination:S}}function al(e,a,r,d,n,g){const{props:u,emit:i,proxy:{$q:c}}=e,S=m(()=>d.value===!0?r.value.rowsNumber||0:g.value),l=m(()=>{const{page:T,rowsPerPage:x}=r.value;return(T-1)*x}),b=m(()=>{const{page:T,rowsPerPage:x}=r.value;return T*x}),P=m(()=>r.value.page===1),C=m(()=>r.value.rowsPerPage===0?1:Math.max(1,Math.ceil(S.value/r.value.rowsPerPage))),R=m(()=>b.value===0?!0:r.value.page>=C.value),h=m(()=>(u.rowsPerPageOptions.includes(a.value.rowsPerPage)?u.rowsPerPageOptions:[a.value.rowsPerPage].concat(u.rowsPerPageOptions)).map(x=>({label:x===0?c.lang.table.allRows:""+x,value:x})));V(C,(T,x)=>{if(T===x)return;const H=r.value.page;T&&!H?n({page:1}):T<H&&n({page:T})});function w(){n({page:1})}function F(){const{page:T}=r.value;T>1&&n({page:T-1})}function B(){const{page:T,rowsPerPage:x}=r.value;b.value>0&&T*x<S.value&&n({page:T+1})}function O(){n({page:C.value})}return u["onUpdate:pagination"]!==void 0&&i("update:pagination",{...r.value}),{firstRowIndex:l,lastRowIndex:b,isFirstPage:P,isLastPage:R,pagesNumber:C,computedRowsPerPageOptions:h,computedRowsNumber:S,firstPage:w,prevPage:F,nextPage:B,lastPage:O}}const nl={selection:{type:String,default:"none",validator:e=>["single","multiple","none"].includes(e)},selected:{type:Array,default:()=>[]}},ol=["update:selected","selection"];function rl(e,a,r,d){const n=m(()=>{const R={};return e.selected.map(d.value).forEach(h=>{R[h]=!0}),R}),g=m(()=>e.selection!=="none"),u=m(()=>e.selection==="single"),i=m(()=>e.selection==="multiple"),c=m(()=>r.value.length!==0&&r.value.every(R=>n.value[d.value(R)]===!0)),S=m(()=>c.value!==!0&&r.value.some(R=>n.value[d.value(R)]===!0)),l=m(()=>e.selected.length);function b(R){return n.value[R]===!0}function P(){a("update:selected",[])}function C(R,h,w,F){a("selection",{rows:h,added:w,keys:R,evt:F});const B=u.value===!0?w===!0?h:[]:w===!0?e.selected.concat(h):e.selected.filter(O=>R.includes(d.value(O))===!1);a("update:selected",B)}return{hasSelectionMode:g,singleSelection:u,multipleSelection:i,allRowsSelected:c,someRowsSelected:S,rowsSelectedNumber:l,isRowSelected:b,clearSelection:P,updateSelection:C}}function Ee(e){return Array.isArray(e)?e.slice():[]}const il={expanded:Array},sl=["update:expanded"];function ul(e,a){const r=p(Ee(e.expanded));V(()=>e.expanded,u=>{r.value=Ee(u)});function d(u){return r.value.includes(u)}function n(u){e.expanded!==void 0?a("update:expanded",u):r.value=u}function g(u,i){const c=r.value.slice(),S=c.indexOf(u);i===!0?S===-1&&(c.push(u),n(c)):S!==-1&&(c.splice(S,1),n(c))}return{isRowExpanded:d,setExpanded:n,updateExpanded:g}}const cl={visibleColumns:Array};function dl(e,a,r){const d=m(()=>{if(e.columns!==void 0)return e.columns;const i=e.rows[0];return i!==void 0?Object.keys(i).map(c=>({name:c,label:c.toUpperCase(),field:c,align:be(i[c])?"right":"left",sortable:!0})):[]}),n=m(()=>{const{sortBy:i,descending:c}=a.value;return(e.visibleColumns!==void 0?d.value.filter(l=>l.required===!0||e.visibleColumns.includes(l.name)===!0):d.value).map(l=>{const b=l.align||"right",P=`text-${b}`;return{...l,align:b,__iconClass:`q-table__sort-icon q-table__sort-icon--${b}`,__thClass:P+(l.headerClasses!==void 0?" "+l.headerClasses:"")+(l.sortable===!0?" sortable":"")+(l.name===i?` sorted ${c===!0?"sort-desc":""}`:""),__tdStyle:l.style!==void 0?typeof l.style!="function"?()=>l.style:l.style:()=>null,__tdClass:l.classes!==void 0?typeof l.classes!="function"?()=>P+" "+l.classes:C=>P+" "+l.classes(C):()=>P}})}),g=m(()=>{const i={};return n.value.forEach(c=>{i[c.name]=c}),i}),u=m(()=>e.tableColspan!==void 0?e.tableColspan:n.value.length+(r.value===!0?1:0));return{colList:d,computedCols:n,computedColsMap:g,computedColspan:u}}const Y="q-table__bottom row items-center",Ge={};Ke.forEach(e=>{Ge[e]={}});const $e=Z({name:"QTable",props:{rows:{type:Array,required:!0},rowKey:{type:[String,Function],default:"id"},columns:Array,loading:Boolean,iconFirstPage:String,iconPrevPage:String,iconNextPage:String,iconLastPage:String,title:String,hideHeader:Boolean,grid:Boolean,gridHeader:Boolean,dense:Boolean,flat:Boolean,bordered:Boolean,square:Boolean,separator:{type:String,default:"horizontal",validator:e=>["horizontal","vertical","cell","none"].includes(e)},wrapCells:Boolean,virtualScroll:Boolean,virtualScrollTarget:{},...Ge,noDataLabel:String,noResultsLabel:String,loadingLabel:String,selectedRowsLabel:Function,rowsPerPageLabel:String,paginationLabel:Function,color:{type:String,default:"grey-8"},titleClass:[String,Array,Object],tableStyle:[String,Array,Object],tableClass:[String,Array,Object],tableHeaderStyle:[String,Array,Object],tableHeaderClass:[String,Array,Object],tableRowStyleFn:Function,tableRowClassFn:Function,cardContainerClass:[String,Array,Object],cardContainerStyle:[String,Array,Object],cardStyle:[String,Array,Object],cardClass:[String,Array,Object],cardStyleFn:Function,cardClassFn:Function,hideBottom:Boolean,hideSelectedBanner:Boolean,hideNoData:Boolean,hidePagination:Boolean,onRowClick:Function,onRowDblclick:Function,onRowContextmenu:Function,...Ne,...It,...cl,...Yt,...tl,...il,...nl,...Jt},emits:["request","virtualScroll",...Kt,...sl,...ol],setup(e,{slots:a,emit:r}){const d=ee(),{proxy:{$q:n}}=d,g=Qe(e,n),{inFullscreen:u,toggleFullscreen:i}=Wt(),c=m(()=>typeof e.rowKey=="function"?e.rowKey:t=>t[e.rowKey]),S=p(null),l=p(null),b=m(()=>e.grid!==!0&&e.virtualScroll===!0),P=m(()=>" q-table__card"+(g.value===!0?" q-table__card--dark q-dark":"")+(e.square===!0?" q-table--square":"")+(e.flat===!0?" q-table--flat":"")+(e.bordered===!0?" q-table--bordered":"")),C=m(()=>`q-table__container q-table--${e.separator}-separator column no-wrap`+(e.grid===!0?" q-table--grid":P.value)+(g.value===!0?" q-table--dark":"")+(e.dense===!0?" q-table--dense":"")+(e.wrapCells===!1?" q-table--no-wrap":"")+(u.value===!0?" fullscreen scroll":"")),R=m(()=>C.value+(e.loading===!0?" q-table--loading":""));V(()=>e.tableStyle+e.tableClass+e.tableHeaderStyle+e.tableHeaderClass+C.value,()=>{b.value===!0&&l.value?.reset()});const{innerPagination:h,computedPagination:w,isServerSide:F,requestServerInteraction:B,setPagination:O}=ll(d,$),{computedFilterMethod:T}=Zt(e,O),{isRowExpanded:x,setExpanded:H,updateExpanded:Je}=ul(e,r),te=m(()=>{let t=e.rows;if(F.value===!0||t.length===0)return t;const{sortBy:o,descending:v}=w.value;return e.filter&&(t=T.value(t,e.filter,M.value,$)),tt.value!==null&&(t=lt.value(e.rows===t?t.slice():t,o,v)),t}),me=m(()=>te.value.length),D=m(()=>{let t=te.value;if(F.value===!0)return t;const{rowsPerPage:o}=w.value;return o!==0&&(z.value===0&&e.rows!==t?t.length>I.value&&(t=t.slice(0,I.value)):t=t.slice(z.value,I.value)),t}),{hasSelectionMode:E,singleSelection:Xe,multipleSelection:ye,allRowsSelected:Ye,someRowsSelected:Se,rowsSelectedNumber:le,isRowSelected:ae,clearSelection:Ze,updateSelection:U}=rl(e,r,D,c),{colList:et,computedCols:M,computedColsMap:we,computedColspan:he}=dl(e,w,E),{columnToSort:tt,computedSortMethod:lt,sort:ne}=Xt(e,w,et,O),{firstRowIndex:z,lastRowIndex:I,isFirstPage:oe,isLastPage:re,pagesNumber:K,computedRowsPerPageOptions:at,computedRowsNumber:W,firstPage:ie,prevPage:se,nextPage:ue,lastPage:ce}=al(d,h,w,F,O,me),nt=m(()=>D.value.length===0),ot=m(()=>{const t={};return Ke.forEach(o=>{t[o]=e[o]}),t.virtualScrollItemSize===void 0&&(t.virtualScrollItemSize=e.dense===!0?28:48),t});function rt(){b.value===!0&&l.value.reset()}function it(){if(e.grid===!0)return wt();const t=e.hideHeader!==!0?Re:null;if(b.value===!0){const v=a["top-row"],f=a["bottom-row"],y={default:k=>Ce(k.item,a.body,k.index)};if(v!==void 0){const k=s("tbody",v({cols:M.value}));y.before=t===null?()=>k:()=>[t()].concat(k)}else t!==null&&(y.before=t);return f!==void 0&&(y.after=()=>s("tbody",f({cols:M.value}))),s(zt,{ref:l,class:e.tableClass,style:e.tableStyle,...ot.value,scrollTarget:e.virtualScrollTarget,items:D.value,type:"__qtable",tableColspan:he.value,onVirtualScroll:ut},y)}const o=[ct()];return t!==null&&o.unshift(t()),We({class:["q-table__middle scroll",e.tableClass],style:e.tableStyle},o)}function st(t,o){if(l.value!==null){l.value.scrollTo(t,o);return}t=parseInt(t,10);const v=S.value.querySelector(`tbody tr:nth-of-type(${t+1})`);if(v!==null){const f=S.value.querySelector(".q-table__middle.scroll"),y=v.offsetTop-e.virtualScrollStickySizeStart,k=y<f.scrollTop?"decrease":"increase";f.scrollTop=y,r("virtualScroll",{index:t,from:0,to:h.value.rowsPerPage-1,direction:k})}}function ut(t){r("virtualScroll",t)}function Pe(){return[s($t,{class:"q-table__linear-progress",color:e.color,dark:g.value,indeterminate:!0,trackColor:"transparent"})]}function Ce(t,o,v){const f=c.value(t),y=ae(f);if(o!==void 0){const _={key:f,row:t,pageIndex:v,__trClass:y?"selected":""};if(e.tableRowStyleFn!==void 0&&(_.__trStyle=e.tableRowStyleFn(t)),e.tableRowClassFn!==void 0){const j=e.tableRowClassFn(t);j&&(_.__trClass=`${j} ${_.__trClass}`)}return o(qe(_))}const k=a["body-cell"],q=M.value.map(_=>{const j=a[`body-cell-${_.name}`],J=j!==void 0?j:k;return J!==void 0?J(dt({key:f,row:t,pageIndex:v,col:_})):s("td",{class:_.__tdClass(t),style:_.__tdStyle(t)},$(_,t))});if(E.value===!0){const _=a["body-selection"],j=_!==void 0?_(vt({key:f,row:t,pageIndex:v})):[s(fe,{modelValue:y,color:e.color,dark:g.value,dense:e.dense,"onUpdate:modelValue":(J,ht)=>{U([f],[t],J,ht)}})];q.unshift(s("td",{class:"q-table--col-auto-width"},j))}const L={key:f,class:{selected:y}};if(e.onRowClick!==void 0&&(L.class["cursor-pointer"]=!0,L.onClick=_=>{r("rowClick",_,t,v)}),e.onRowDblclick!==void 0&&(L.class["cursor-pointer"]=!0,L.onDblclick=_=>{r("rowDblclick",_,t,v)}),e.onRowContextmenu!==void 0&&(L.class["cursor-pointer"]=!0,L.onContextmenu=_=>{r("rowContextmenu",_,t,v)}),e.tableRowStyleFn!==void 0&&(L.style=e.tableRowStyleFn(t)),e.tableRowClassFn!==void 0){const _=e.tableRowClassFn(t);_&&(L.class[_]=!0)}return s("tr",L,q)}function ct(){const t=a.body,o=a["top-row"],v=a["bottom-row"];let f=D.value.map((y,k)=>Ce(y,t,k));return o!==void 0&&(f=o({cols:M.value}).concat(f)),v!==void 0&&(f=f.concat(v({cols:M.value}))),s("tbody",f)}function qe(t){return de(t),t.cols=t.cols.map(o=>N({...o},"value",()=>$(o,t.row))),t}function dt(t){return de(t),N(t,"value",()=>$(t.col,t.row)),t}function vt(t){return de(t),t}function de(t){Object.assign(t,{cols:M.value,colsMap:we.value,sort:ne,rowIndex:z.value+t.pageIndex,color:e.color,dark:g.value,dense:e.dense}),E.value===!0&&N(t,"selected",()=>ae(t.key),(o,v)=>{U([t.key],[t.row],o,v)}),N(t,"expand",()=>x(t.key),o=>{Je(t.key,o)})}function $(t,o){const v=typeof t.field=="function"?t.field(o):o[t.field];return t.format!==void 0?t.format(v,o):v}const A=m(()=>({pagination:w.value,pagesNumber:K.value,isFirstPage:oe.value,isLastPage:re.value,firstPage:ie,prevPage:se,nextPage:ue,lastPage:ce,inFullscreen:u.value,toggleFullscreen:i}));function ft(){const t=a.top,o=a["top-left"],v=a["top-right"],f=a["top-selection"],y=E.value===!0&&f!==void 0&&le.value>0,k="q-table__top relative-position row items-center";if(t!==void 0)return s("div",{class:k},[t(A.value)]);let q;if(y===!0?q=f(A.value).slice():(q=[],o!==void 0?q.push(s("div",{class:"q-table__control"},[o(A.value)])):e.title&&q.push(s("div",{class:"q-table__control"},[s("div",{class:["q-table__title",e.titleClass]},e.title)]))),v!==void 0&&(q.push(s("div",{class:"q-table__separator col"})),q.push(s("div",{class:"q-table__control"},[v(A.value)]))),q.length!==0)return s("div",{class:k},q)}const _e=m(()=>Se.value===!0?null:Ye.value);function Re(){const t=gt();return e.loading===!0&&a.loading===void 0&&t.push(s("tr",{class:"q-table__progress"},[s("th",{class:"relative-position",colspan:he.value},Pe())])),s("thead",t)}function gt(){const t=a.header,o=a["header-cell"];if(t!==void 0)return t(ve({header:!0})).slice();const v=M.value.map(f=>{const y=a[`header-cell-${f.name}`],k=y!==void 0?y:o,q=ve({col:f});return k!==void 0?k(q):s(At,{key:f.name,props:q},()=>f.label)});if(Xe.value===!0&&e.grid!==!0)v.unshift(s("th",{class:"q-table--col-auto-width"}," "));else if(ye.value===!0){const f=a["header-selection"],y=f!==void 0?f(ve({})):[s(fe,{color:e.color,modelValue:_e.value,dark:g.value,dense:e.dense,"onUpdate:modelValue":ke})];v.unshift(s("th",{class:"q-table--col-auto-width"},y))}return[s("tr",{class:e.tableHeaderClass,style:e.tableHeaderStyle},v)]}function ve(t){return Object.assign(t,{cols:M.value,sort:ne,colsMap:we.value,color:e.color,dark:g.value,dense:e.dense}),ye.value===!0&&N(t,"selected",()=>_e.value,ke),t}function ke(t){Se.value===!0&&(t=!1),U(D.value.map(c.value),D.value,t)}const G=m(()=>{const t=[e.iconFirstPage||n.iconSet.table.firstPage,e.iconPrevPage||n.iconSet.table.prevPage,e.iconNextPage||n.iconSet.table.nextPage,e.iconLastPage||n.iconSet.table.lastPage];return n.lang.rtl===!0?t.reverse():t});function bt(){if(e.hideBottom===!0)return;if(nt.value===!0){if(e.hideNoData===!0)return;const v=e.loading===!0?e.loadingLabel||n.lang.table.loading:e.filter?e.noResultsLabel||n.lang.table.noResults:e.noDataLabel||n.lang.table.noData,f=a["no-data"],y=f!==void 0?[f({message:v,icon:n.iconSet.table.warning,filter:e.filter})]:[s(Ae,{class:"q-table__bottom-nodata-icon",name:n.iconSet.table.warning}),v];return s("div",{class:Y+" q-table__bottom--nodata"},y)}const t=a.bottom;if(t!==void 0)return s("div",{class:Y},[t(A.value)]);const o=e.hideSelectedBanner!==!0&&E.value===!0&&le.value>0?[s("div",{class:"q-table__control"},[s("div",[(e.selectedRowsLabel||n.lang.table.selectedRecords)(le.value)])])]:[];if(e.hidePagination!==!0)return s("div",{class:Y+" justify-end"},yt(o));if(o.length!==0)return s("div",{class:Y},o)}function mt(t){O({page:1,rowsPerPage:t.value})}function yt(t){let o;const{rowsPerPage:v}=w.value,f=e.paginationLabel||n.lang.table.pagination,y=a.pagination,k=e.rowsPerPageOptions.length>1;if(t.push(s("div",{class:"q-table__separator col"})),k===!0&&t.push(s("div",{class:"q-table__control"},[s("span",{class:"q-table__bottom-item"},[e.rowsPerPageLabel||n.lang.table.recordsPerPage]),s(Et,{class:"q-table__select inline q-table__bottom-item",color:e.color,modelValue:v,options:at.value,displayValue:v===0?n.lang.table.allRows:v,dark:g.value,borderless:!0,dense:!0,optionsDense:!0,optionsCover:!0,"onUpdate:modelValue":mt})])),y!==void 0)o=y(A.value);else if(o=[s("span",v!==0?{class:"q-table__bottom-item"}:{},[v?f(z.value+1,Math.min(I.value,W.value),W.value):f(1,me.value,W.value)])],v!==0&&K.value>1){const q={color:e.color,round:!0,dense:!0,flat:!0};e.dense===!0&&(q.size="sm"),K.value>2&&o.push(s(X,{key:"pgFirst",...q,icon:G.value[0],disable:oe.value,"aria-label":n.lang.pagination.first,onClick:ie})),o.push(s(X,{key:"pgPrev",...q,icon:G.value[1],disable:oe.value,"aria-label":n.lang.pagination.prev,onClick:se}),s(X,{key:"pgNext",...q,icon:G.value[2],disable:re.value,"aria-label":n.lang.pagination.next,onClick:ue})),K.value>2&&o.push(s(X,{key:"pgLast",...q,icon:G.value[3],disable:re.value,"aria-label":n.lang.pagination.last,onClick:ce}))}return t.push(s("div",{class:"q-table__control"},o)),t}function St(){const t=e.gridHeader===!0?[s("table",{class:"q-table"},[Re()])]:e.loading===!0&&a.loading===void 0?Pe():void 0;return s("div",{class:"q-table__middle"},t)}function wt(){const t=a.item!==void 0?a.item:o=>{const v=o.cols.map(y=>s("div",{class:"q-table__grid-item-row"},[s("div",{class:"q-table__grid-item-title"},[y.label]),s("div",{class:"q-table__grid-item-value"},[y.value])]));if(E.value===!0){const y=a["body-selection"],k=y!==void 0?y(o):[s(fe,{modelValue:o.selected,color:e.color,dark:g.value,dense:e.dense,"onUpdate:modelValue":(q,L)=>{U([o.key],[o.row],q,L)}})];v.unshift(s("div",{class:"q-table__grid-item-row"},k),s(Bt,{dark:g.value}))}const f={class:["q-table__grid-item-card"+P.value,e.cardClass],style:e.cardStyle};if(e.cardStyleFn!==void 0&&(f.style=[f.style,e.cardStyleFn(o.row)]),e.cardClassFn!==void 0){const y=e.cardClassFn(o.row);y&&(f.class[0]+=` ${y}`)}return(e.onRowClick!==void 0||e.onRowDblclick!==void 0||e.onRowContextmenu!==void 0)&&(f.class[0]+=" cursor-pointer",e.onRowClick!==void 0&&(f.onClick=y=>{r("RowClick",y,o.row,o.pageIndex)}),e.onRowDblclick!==void 0&&(f.onDblclick=y=>{r("RowDblclick",y,o.row,o.pageIndex)}),e.onRowContextmenu!==void 0&&(f.onContextmenu=y=>{r("rowContextmenu",y,o.row,o.pageIndex)})),s("div",{class:"q-table__grid-item col-xs-12 col-sm-6 col-md-4 col-lg-3"+(o.selected===!0?" q-table__grid-item--selected":"")},[s("div",f,v)])};return s("div",{class:["q-table__grid-content row",e.cardContainerClass],style:e.cardContainerStyle},D.value.map((o,v)=>t(qe({key:c.value(o),row:o,pageIndex:v}))))}return Object.assign(d.proxy,{requestServerInteraction:B,setPagination:O,firstPage:ie,prevPage:se,nextPage:ue,lastPage:ce,isRowSelected:ae,clearSelection:Ze,isRowExpanded:x,setExpanded:H,sort:ne,resetVirtualScroll:rt,scrollTo:st,getCellValue:$}),Ft(d.proxy,{filteredSortedRows:()=>te.value,computedRows:()=>D.value,computedRowsNumber:()=>W.value}),()=>{const t=[ft()],o={ref:S,class:R.value};return e.grid===!0?t.push(St()):Object.assign(o,{class:[o.class,e.cardClass],style:e.cardStyle}),t.push(it(),bt()),e.loading===!0&&a.loading!==void 0&&t.push(a.loading()),s("div",o,t)}}}),vl={key:0,class:"tabla-container"},fl={__name:"Table",props:{rows:{type:Array,default:()=>[]},columns:{type:Array,default:()=>[]},pagination:{type:Object,default:()=>({page:1,rowsPerPage:10,rowsNumber:0})},loandingTable:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},rowKey:{type:String,default:"_id"},rowsPerPageOptions:{type:Array,default:()=>[10,20,50,100]},card:{type:Boolean,default:!1},boxed:{type:Boolean,default:!1}},emits:["update:pagination","request"],setup(e,{emit:a}){const r=e,d=a,n=p({page:1,rowsPerPage:10,rowsNumber:0});V(()=>r.pagination,i=>{n.value={...i}},{deep:!0,immediate:!0});function g(i){n.value={...i},d("update:pagination",n.value)}function u(i){d("request",i)}return(i,c)=>e.card||e.boxed?(Be(),Lt("div",vl,[Mt($e,{flat:"",bordered:"",rows:e.rows,columns:e.columns,"row-key":e.rowKey,pagination:n.value,loading:e.loandingTable||e.loading,"rows-per-page-options":e.rowsPerPageOptions,"binary-state-sort":"",onRequest:u,"onUpdate:pagination":g},Oe({_:2},[Le(i.$slots,(S,l)=>({name:l,fn:Ve(b=>[Me(i.$slots,l,De(je(b)),void 0,!0)])}))]),1032,["rows","columns","row-key","pagination","loading","rows-per-page-options"])])):(Be(),Vt($e,{key:1,flat:"",bordered:"",rows:e.rows,columns:e.columns,"row-key":e.rowKey,pagination:n.value,loading:e.loandingTable||e.loading,"rows-per-page-options":e.rowsPerPageOptions,"binary-state-sort":"",onRequest:u,"onUpdate:pagination":g},Oe({_:2},[Le(i.$slots,(S,l)=>({name:l,fn:Ve(b=>[Me(i.$slots,l,De(je(b)),void 0,!0)])}))]),1032,["rows","columns","row-key","pagination","loading","rows-per-page-options"]))}},Sl=Ot(fl,[["__scopeId","data-v-2b456a08"]]);export{Sl as T};
