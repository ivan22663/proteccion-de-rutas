import{m as h,x as va,M as Ma,aO as za,N as ma,O as Pa,bt as Sa,r as M,bi as Ha,w as pe,q as la,y as m,ab as xe,a7 as Fa,bu as Na,v as G,bc as Ra,aX as ja,_ as Ea,a5 as Ya,h as E,b as d,d as i,ag as Oa,a as c,e as f,i as Se,t as C,l as $,af as na,u as Ba,o as N,j as R,ae as Ta,z as Aa,ah as Qa,g as ia,c as sa,F as Ia,p as $a}from"./index-D8k0Z2VW.js";import{Q as La}from"./QTooltip-BIz5X8HU.js";import{Q as U}from"./QTd-Dz2_L_T4.js";import{d as Ua,Q as Wa}from"./QSelect-CCFBgF8v.js";import{t as Ja,a as ra,f as Ga,g as Ka,j as $e,_ as Xa}from"./date-9AqZW7CU.js";import{p as re}from"./format-DyQxkAtJ.js";import{u as Za,c as et}from"./position-engine-BrzQKXCo.js";import{Q as at}from"./QFile-DYrxQo6S.js";import{Q as tt}from"./QForm-BHoNUr4c.js";import{Q as ot}from"./QBadge-pToOuXWH.js";import{Q as lt,a as Le,b as nt}from"./QItemLabel-BiKvV_tR.js";import{Q as it}from"./QList-D6hH9GPe.js";import{C as st}from"./ClosePopup-DkFGp95i.js";import{u as rt}from"./use-quasar-Dk_EY-O4.js";import{u as dt}from"./useEntityManager-6kUzRwOq.js";import{T as da}from"./Table-DrGgNztj.js";import{M as Ce}from"./Modal-CwwUMTwV.js";import{B as A}from"./Button-ByZOtwGJ.js";import{_ as He}from"./ButtonTableOptions-ivpzFDPv.js";import{B as ut}from"./BackButton-OAicZK4q.js";import{P as ct}from"./PageHeader-BZtJRD6F.js";import"./selection-CjJDPdFp.js";import"./apiClient-Vvvjylwf.js";import"./useNotifications-C15CMF32.js";import"./QLinearProgress-C9Sex94R.js";function vt(){let o=Object.create(null);return{getCache:(_,z)=>o[_]===void 0?o[_]=typeof z=="function"?z():z:o[_],setCache(_,z){o[_]=z},hasCache(_){return Object.hasOwnProperty.call(o,_)},clearCache(_){_!==void 0?delete o[_]:o=Object.create(null)}}}const mt=["gregorian","persian"],ua={mask:{type:String},locale:Object,calendar:{type:String,validator:o=>mt.includes(o),default:"gregorian"},landscape:Boolean,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,readonly:Boolean,disable:Boolean},ft=["update:modelValue"];function le(o){return o.year+"/"+re(o.month)+"/"+re(o.day)}function ht(o,_){const z=h(()=>o.disable!==!0&&o.readonly!==!0),W=h(()=>z.value===!0?0:-1),V=h(()=>{const D=[];return o.color!==void 0&&D.push(`bg-${o.color}`),o.textColor!==void 0&&D.push(`text-${o.textColor}`),D.join(" ")});function X(){return o.locale!==void 0?{..._.lang.date,...o.locale}:_.lang.date}function P(D){const Y=new Date,O=D===!0?null:0;if(o.calendar==="persian"){const w=Ja(Y);return{year:w.jy,month:w.jm,day:w.jd}}return{year:Y.getFullYear(),month:Y.getMonth()+1,day:Y.getDate(),hour:O,minute:O,second:O,millisecond:O}}return{editable:z,tabindex:W,headerClass:V,getLocale:X,getCurrentDate:P}}const K=20,gt=["Calendar","Years","Months"],ca=o=>gt.includes(o),Ue=o=>/^-?[\d]+\/[0-1]\d$/.test(o),ge=" — ";function ne(o){return o.year+"/"+re(o.month)}const pt=va({name:"QDate",props:{...ua,...za,...Ma,modelValue:{required:!0,validator:o=>typeof o=="string"||Array.isArray(o)===!0||Object(o)===o||o===null},multiple:Boolean,range:Boolean,title:String,subtitle:String,mask:{...ua.mask,default:"YYYY/MM/DD"},defaultYearMonth:{type:String,validator:Ue},yearsInMonthView:Boolean,events:[Array,Function],eventColor:[String,Function],emitImmediately:Boolean,options:[Array,Function],navigationMinYearMonth:{type:String,validator:Ue},navigationMaxYearMonth:{type:String,validator:Ue},noUnset:Boolean,firstDayOfWeek:[String,Number],todayBtn:Boolean,minimal:Boolean,defaultView:{type:String,default:"Calendar",validator:ca}},emits:[...ft,"rangeStart","rangeEnd","navigation"],setup(o,{slots:_,emit:z}){const{proxy:W}=ma(),{$q:V}=W,X=Pa(o,V),{getCache:P}=vt(),{tabindex:D,headerClass:Y,getLocale:O,getCurrentDate:w}=ht(o,V);let p;const H=Sa(o),ye=Na(H),ie=M(null),k=M(Ke()),x=M(O()),Fe=h(()=>Ke()),De=h(()=>O()),I=h(()=>w()),v=M(Xe(k.value,x.value)),j=M(o.defaultView),de=h(()=>V.lang.rtl===!0?"right":"left"),L=M(de.value),Z=M(de.value),ee=v.value.year,B=M(ee-ee%K-(ee<0?K:0)),F=M(null),ke=h(()=>{const e=o.landscape===!0?"landscape":"portrait";return`q-date q-date--${e} q-date--${e}-${o.minimal===!0?"minimal":"standard"}`+(X.value===!0?" q-date--dark q-dark":"")+(o.bordered===!0?" q-date--bordered":"")+(o.square===!0?" q-date--square no-border-radius":"")+(o.flat===!0?" q-date--flat no-shadow":"")+(o.disable===!0?" disabled":o.readonly===!0?" q-date--readonly":"")}),J=h(()=>o.color||"primary"),ae=h(()=>o.textColor||"white"),ue=h(()=>o.emitImmediately===!0&&o.multiple!==!0&&o.range!==!0),be=h(()=>Array.isArray(o.modelValue)===!0?o.modelValue:o.modelValue!==null&&o.modelValue!==void 0?[o.modelValue]:[]),T=h(()=>be.value.filter(e=>typeof e=="string").map(e=>Be(e,k.value,x.value)).filter(e=>e.dateHash!==null&&e.day!==null&&e.month!==null&&e.year!==null)),te=h(()=>{const e=a=>Be(a,k.value,x.value);return be.value.filter(a=>Ha(a)===!0&&a.from!==void 0&&a.to!==void 0).map(a=>({from:e(a.from),to:e(a.to)})).filter(a=>a.from.dateHash!==null&&a.to.dateHash!==null&&a.from.dateHash<a.to.dateHash)}),ce=h(()=>o.calendar!=="persian"?e=>new Date(e.year,e.month-1,e.day):e=>{const a=ra(e.year,e.month,e.day);return new Date(a.gy,a.gm-1,a.gd)}),ve=h(()=>o.calendar==="persian"?le:(e,a,t)=>Ga(new Date(e.year,e.month-1,e.day,e.hour,e.minute,e.second,e.millisecond),a===void 0?k.value:a,t===void 0?x.value:t,e.year,e.timezoneOffset)),oe=h(()=>T.value.length+te.value.reduce((e,a)=>e+1+Ka(ce.value(a.to),ce.value(a.from)),0)),qe=h(()=>{if(o.title!==void 0&&o.title!==null&&o.title.length!==0)return o.title;if(F.value!==null){const t=F.value.init,s=ce.value(t);return x.value.daysShort[s.getDay()]+", "+x.value.monthsShort[t.month-1]+" "+t.day+ge+"?"}if(oe.value===0)return ge;if(oe.value>1)return`${oe.value} ${x.value.pluralDay}`;const e=T.value[0],a=ce.value(e);return isNaN(a.valueOf())===!0?ge:x.value.headerTitle!==void 0?x.value.headerTitle(a,e):x.value.daysShort[a.getDay()]+", "+x.value.monthsShort[e.month-1]+" "+e.day}),Ne=h(()=>T.value.concat(te.value.map(a=>a.from)).sort((a,t)=>a.year-t.year||a.month-t.month)[0]),Re=h(()=>T.value.concat(te.value.map(a=>a.to)).sort((a,t)=>t.year-a.year||t.month-a.month)[0]),Ve=h(()=>{if(o.subtitle!==void 0&&o.subtitle!==null&&o.subtitle.length!==0)return o.subtitle;if(oe.value===0)return ge;if(oe.value>1){const e=Ne.value,a=Re.value,t=x.value.monthsShort;return t[e.month-1]+(e.year!==a.year?" "+e.year+ge+t[a.month-1]+" ":e.month!==a.month?ge+t[a.month-1]:"")+" "+a.year}return T.value[0].year}),me=h(()=>{const e=[V.iconSet.datetime.arrowLeft,V.iconSet.datetime.arrowRight];return V.lang.rtl===!0?e.reverse():e}),Me=h(()=>o.firstDayOfWeek!==void 0?Number(o.firstDayOfWeek):x.value.firstDayOfWeek),je=h(()=>{const e=x.value.daysShort,a=Me.value;return a>0?e.slice(a,7).concat(e.slice(0,a)):e}),b=h(()=>{const e=v.value;return o.calendar!=="persian"?new Date(e.year,e.month,0).getDate():$e(e.year,e.month)}),n=h(()=>typeof o.eventColor=="function"?o.eventColor:()=>o.eventColor),l=h(()=>{if(o.navigationMinYearMonth===void 0)return null;const e=o.navigationMinYearMonth.split("/");return{year:parseInt(e[0],10),month:parseInt(e[1],10)}}),S=h(()=>{if(o.navigationMaxYearMonth===void 0)return null;const e=o.navigationMaxYearMonth.split("/");return{year:parseInt(e[0],10),month:parseInt(e[1],10)}}),Ee=h(()=>{const e={month:{prev:!0,next:!0},year:{prev:!0,next:!0}};return l.value!==null&&l.value.year>=v.value.year&&(e.year.prev=!1,l.value.year===v.value.year&&l.value.month>=v.value.month&&(e.month.prev=!1)),S.value!==null&&S.value.year<=v.value.year&&(e.year.next=!1,S.value.year===v.value.year&&S.value.month<=v.value.month&&(e.month.next=!1)),e}),ze=h(()=>{const e={};return T.value.forEach(a=>{const t=ne(a);e[t]===void 0&&(e[t]=[]),e[t].push(a.day)}),e}),We=h(()=>{const e={};return te.value.forEach(a=>{const t=ne(a.from),s=ne(a.to);if(e[t]===void 0&&(e[t]=[]),e[t].push({from:a.from.day,to:t===s?a.to.day:void 0,range:a}),t<s){let r;const{year:y,month:u}=a.from,g=u<12?{year:y,month:u+1}:{year:y+1,month:1};for(;(r=ne(g))<=s;)e[r]===void 0&&(e[r]=[]),e[r].push({from:void 0,to:r===s?a.to.day:void 0,range:a}),g.month++,g.month>12&&(g.year++,g.month=1)}}),e}),_e=h(()=>{if(F.value===null)return;const{init:e,initHash:a,final:t,finalHash:s}=F.value,[r,y]=a<=s?[e,t]:[t,e],u=ne(r),g=ne(y);if(u!==Q.value&&g!==Q.value)return;const q={};return u===Q.value?(q.from=r.day,q.includeFrom=!0):q.from=1,g===Q.value?(q.to=y.day,q.includeTo=!0):q.to=b.value,q}),Q=h(()=>ne(v.value)),fa=h(()=>{const e={};if(o.options===void 0){for(let t=1;t<=b.value;t++)e[t]=!0;return e}const a=typeof o.options=="function"?o.options:t=>o.options.includes(t);for(let t=1;t<=b.value;t++){const s=Q.value+"/"+re(t);e[t]=a(s)}return e}),ha=h(()=>{const e={};if(o.events===void 0)for(let a=1;a<=b.value;a++)e[a]=!1;else{const a=typeof o.events=="function"?o.events:t=>o.events.includes(t);for(let t=1;t<=b.value;t++){const s=Q.value+"/"+re(t);e[t]=a(s)===!0&&n.value(s)}}return e}),ga=h(()=>{let e,a;const{year:t,month:s}=v.value;if(o.calendar!=="persian")e=new Date(t,s-1,1),a=new Date(t,s-1,0).getDate();else{const r=ra(t,s,1);e=new Date(r.gy,r.gm-1,r.gd);let y=s-1,u=t;y===0&&(y=12,u--),a=$e(u,y)}return{days:e.getDay()-Me.value-1,endDay:a}}),Je=h(()=>{const e=[],{days:a,endDay:t}=ga.value,s=a<0?a+7:a;if(s<6)for(let u=t-s;u<=t;u++)e.push({i:u,fill:!0});const r=e.length;for(let u=1;u<=b.value;u++){const g={i:u,event:ha.value[u],classes:[]};fa.value[u]===!0&&(g.in=!0,g.flat=!0),e.push(g)}if(ze.value[Q.value]!==void 0&&ze.value[Q.value].forEach(u=>{const g=r+u-1;Object.assign(e[g],{selected:!0,unelevated:!0,flat:!1,color:J.value,textColor:ae.value})}),We.value[Q.value]!==void 0&&We.value[Q.value].forEach(u=>{if(u.from!==void 0){const g=r+u.from-1,q=r+(u.to||b.value)-1;for(let we=g;we<=q;we++)Object.assign(e[we],{range:u.range,unelevated:!0,color:J.value,textColor:ae.value});Object.assign(e[g],{rangeFrom:!0,flat:!1}),u.to!==void 0&&Object.assign(e[q],{rangeTo:!0,flat:!1})}else if(u.to!==void 0){const g=r+u.to-1;for(let q=r;q<=g;q++)Object.assign(e[q],{range:u.range,unelevated:!0,color:J.value,textColor:ae.value});Object.assign(e[g],{flat:!1,rangeTo:!0})}else{const g=r+b.value-1;for(let q=r;q<=g;q++)Object.assign(e[q],{range:u.range,unelevated:!0,color:J.value,textColor:ae.value})}}),_e.value!==void 0){const u=r+_e.value.from-1,g=r+_e.value.to-1;for(let q=u;q<=g;q++)e[q].color=J.value,e[q].editRange=!0;_e.value.includeFrom===!0&&(e[u].editRangeFrom=!0),_e.value.includeTo===!0&&(e[g].editRangeTo=!0)}v.value.year===I.value.year&&v.value.month===I.value.month&&(e[r+I.value.day-1].today=!0);const y=e.length%7;if(y>0){const u=7-y;for(let g=1;g<=u;g++)e.push({i:g,fill:!0})}return e.forEach(u=>{let g="q-date__calendar-item ";u.fill===!0?g+="q-date__calendar-item--fill":(g+=`q-date__calendar-item--${u.in===!0?"in":"out"}`,u.range!==void 0&&(g+=` q-date__range${u.rangeTo===!0?"-to":u.rangeFrom===!0?"-from":""}`),u.editRange===!0&&(g+=` q-date__edit-range${u.editRangeFrom===!0?"-from":""}${u.editRangeTo===!0?"-to":""}`),(u.range!==void 0||u.editRange===!0)&&(g+=` text-${u.color}`)),u.classes=g}),e}),pa=h(()=>o.disable===!0?{"aria-disabled":"true"}:{});pe(()=>o.modelValue,e=>{if(p===JSON.stringify(e))p=0;else{const a=Xe(k.value,x.value);fe(a.year,a.month,a)}}),pe(j,()=>{ie.value!==null&&W.$el.contains(document.activeElement)===!0&&ie.value.focus()}),pe(()=>v.value.year+"|"+v.value.month,()=>{z("navigation",{year:v.value.year,month:v.value.month})}),pe(Fe,e=>{oa(e,x.value,"mask"),k.value=e}),pe(De,e=>{oa(k.value,e,"locale"),x.value=e});function Ye(e){p=JSON.stringify(e)}function Ge(){const{year:e,month:a,day:t}=I.value,s={...v.value,year:e,month:a,day:t},r=ze.value[ne(s)];(r===void 0||r.includes(s.day)===!1)&&Ae(s),Oe(s.year,s.month)}function ya(e){ca(e)===!0&&(j.value=e)}function ba(e,a){["month","year"].includes(e)&&(e==="month"?ea:Te)(a===!0?-1:1)}function Oe(e,a){j.value="Calendar",fe(e,a)}function _a(e,a){if(o.range===!1||!e){F.value=null;return}const t=Object.assign({...v.value},e),s=a!==void 0?Object.assign({...v.value},a):t;F.value={init:t,initHash:le(t),final:s,finalHash:le(s)},Oe(t.year,t.month)}function Ke(){return o.calendar==="persian"?"YYYY/MM/DD":o.mask}function Be(e,a,t){return Xa(e,a,t,o.calendar,{hour:0,minute:0,second:0,millisecond:0})}function Xe(e,a){const t=Array.isArray(o.modelValue)===!0?o.modelValue:o.modelValue?[o.modelValue]:[];if(t.length===0)return Ze();const s=t[t.length-1],r=Be(s.from!==void 0?s.from:s,e,a);return r.dateHash===null?Ze():r}function Ze(){let e,a;if(o.defaultYearMonth!==void 0){const t=o.defaultYearMonth.split("/");e=parseInt(t[0],10),a=parseInt(t[1],10)}else{const t=I.value!==void 0?I.value:w();e=t.year,a=t.month}return{year:e,month:a,day:1,hour:0,minute:0,second:0,millisecond:0,dateHash:e+"/"+re(a)+"/01"}}function ea(e){let a=v.value.year,t=Number(v.value.month)+e;t===13?(t=1,a++):t===0&&(t=12,a--),fe(a,t),ue.value===!0&&Pe("month")}function Te(e){const a=Number(v.value.year)+e;fe(a,v.value.month),ue.value===!0&&Pe("year")}function wa(e){fe(e,v.value.month),j.value=o.defaultView==="Years"?"Months":"Calendar",ue.value===!0&&Pe("year")}function xa(e){fe(v.value.year,e),j.value="Calendar",ue.value===!0&&Pe("month")}function Ca(e,a){(ze.value[a]?.includes(e.day)===!0?Qe:Ae)(e)}function se(e){return{year:e.year,month:e.month,day:e.day}}function fe(e,a,t){if(l.value!==null&&e<=l.value.year&&((a<l.value.month||e<l.value.year)&&(a=l.value.month),e=l.value.year),S.value!==null&&e>=S.value.year&&((a>S.value.month||e>S.value.year)&&(a=S.value.month),e=S.value.year),t!==void 0){const{hour:r,minute:y,second:u,millisecond:g,timezoneOffset:q,timeHash:we}=t;Object.assign(v.value,{hour:r,minute:y,second:u,millisecond:g,timezoneOffset:q,timeHash:we})}const s=e+"/"+re(a)+"/01";s!==v.value.dateHash&&(L.value=v.value.dateHash<s==(V.lang.rtl!==!0)?"left":"right",e!==v.value.year&&(Z.value=L.value),la(()=>{B.value=e-e%K-(e<0?K:0),Object.assign(v.value,{year:e,month:a,day:1,dateHash:s})}))}function aa(e,a,t){const s=e!==null&&e.length===1&&o.multiple===!1?e[0]:e,{reason:r,details:y}=ta(a,t);Ye(s),z("update:modelValue",s,r,y)}function Pe(e){const a=T.value[0]!==void 0&&T.value[0].dateHash!==null?{...T.value[0]}:{...v.value};la(()=>{a.year=v.value.year,a.month=v.value.month;const t=o.calendar!=="persian"?new Date(a.year,a.month,0).getDate():$e(a.year,a.month);a.day=Math.min(Math.max(1,a.day),t);const s=he(a),{details:r}=ta("",a);Ye(s),z("update:modelValue",s,e,r)})}function ta(e,a){return a.from!==void 0?{reason:`${e}-range`,details:{...se(a.target),from:se(a.from),to:se(a.to)}}:{reason:`${e}-day`,details:se(a)}}function he(e,a,t){return e.from!==void 0?{from:ve.value(e.from,a,t),to:ve.value(e.to,a,t)}:ve.value(e,a,t)}function Ae(e){let a;if(o.multiple===!0)if(e.from!==void 0){const t=le(e.from),s=le(e.to),r=T.value.filter(u=>u.dateHash<t||u.dateHash>s),y=te.value.filter(({from:u,to:g})=>g.dateHash<t||u.dateHash>s);a=r.concat(y).concat(e).map(u=>he(u))}else{const t=be.value.slice();t.push(he(e)),a=t}else a=he(e);aa(a,"add",e)}function Qe(e){if(o.noUnset===!0)return;let a=null;if(o.multiple===!0&&Array.isArray(o.modelValue)===!0){const t=he(e);e.from!==void 0?a=o.modelValue.filter(s=>s.from!==void 0?s.from!==t.from&&s.to!==t.to:!0):a=o.modelValue.filter(s=>s!==t),a.length===0&&(a=null)}aa(a,"remove",e)}function oa(e,a,t){const s=T.value.concat(te.value).map(y=>he(y,e,a)).filter(y=>y.from!==void 0?y.from.dateHash!==null&&y.to.dateHash!==null:y.dateHash!==null),r=(o.multiple===!0?s:s[0])||null;Ye(r),z("update:modelValue",r,t)}function Da(){if(o.minimal!==!0)return m("div",{class:"q-date__header "+Y.value},[m("div",{class:"relative-position"},[m(xe,{name:"q-transition--fade"},()=>m("div",{key:"h-yr-"+Ve.value,class:"q-date__header-subtitle q-date__header-link "+(j.value==="Years"?"q-date__header-link--active":"cursor-pointer"),tabindex:D.value,...P("vY",{onClick(){j.value="Years"},onKeyup(e){e.keyCode===13&&(j.value="Years")}})},[Ve.value]))]),m("div",{class:"q-date__header-title relative-position flex no-wrap"},[m("div",{class:"relative-position col"},[m(xe,{name:"q-transition--fade"},()=>m("div",{key:"h-sub"+qe.value,class:"q-date__header-title-label q-date__header-link "+(j.value==="Calendar"?"q-date__header-link--active":"cursor-pointer"),tabindex:D.value,...P("vC",{onClick(){j.value="Calendar"},onKeyup(e){e.keyCode===13&&(j.value="Calendar")}})},[qe.value]))]),o.todayBtn===!0?m(G,{class:"q-date__header-today self-start",icon:V.iconSet.datetime.today,"aria-label":V.lang.date.today,flat:!0,size:"sm",round:!0,tabindex:D.value,onClick:Ge}):null])])}function Ie({label:e,type:a,key:t,dir:s,goTo:r,boundaries:y,cls:u}){return[m("div",{class:"row items-center q-date__arrow"},[m(G,{round:!0,dense:!0,size:"sm",flat:!0,icon:me.value[0],"aria-label":a==="Years"?V.lang.date.prevYear:V.lang.date.prevMonth,tabindex:D.value,disable:y.prev===!1,...P("go-#"+a,{onClick(){r(-1)}})})]),m("div",{class:"relative-position overflow-hidden flex flex-center"+u},[m(xe,{name:"q-transition--jump-"+s},()=>m("div",{key:t},[m(G,{flat:!0,dense:!0,noCaps:!0,label:e,tabindex:D.value,...P("view#"+a,{onClick:()=>{j.value=a}})})]))]),m("div",{class:"row items-center q-date__arrow"},[m(G,{round:!0,dense:!0,size:"sm",flat:!0,icon:me.value[1],"aria-label":a==="Years"?V.lang.date.nextYear:V.lang.date.nextMonth,tabindex:D.value,disable:y.next===!1,...P("go+#"+a,{onClick(){r(1)}})})])]}const ka={Calendar:()=>[m("div",{key:"calendar-view",class:"q-date__view q-date__calendar"},[m("div",{class:"q-date__navigation row items-center no-wrap"},Ie({label:x.value.months[v.value.month-1],type:"Months",key:v.value.month,dir:L.value,goTo:ea,boundaries:Ee.value.month,cls:" col"}).concat(Ie({label:v.value.year,type:"Years",key:v.value.year,dir:Z.value,goTo:Te,boundaries:Ee.value.year,cls:""}))),m("div",{class:"q-date__calendar-weekdays row items-center no-wrap"},je.value.map(e=>m("div",{class:"q-date__calendar-item"},[m("div",e)]))),m("div",{class:"q-date__calendar-days-container relative-position overflow-hidden"},[m(xe,{name:"q-transition--slide-"+L.value},()=>m("div",{key:Q.value,class:"q-date__calendar-days fit"},Je.value.map(e=>m("div",{class:e.classes},[e.in===!0?m(G,{class:e.today===!0?"q-date__today":"",dense:!0,flat:e.flat,unelevated:e.unelevated,color:e.color,textColor:e.textColor,label:e.i,tabindex:D.value,...P("day#"+e.i,{onClick:()=>{qa(e.i)},onMouseover:()=>{Va(e.i)}})},e.event!==!1?()=>m("div",{class:"q-date__event bg-"+e.event}):null):m("div",""+e.i)]))))])])],Months(){const e=v.value.year===I.value.year,a=s=>l.value!==null&&v.value.year===l.value.year&&l.value.month>s||S.value!==null&&v.value.year===S.value.year&&S.value.month<s,t=x.value.monthsShort.map((s,r)=>{const y=v.value.month===r+1;return m("div",{class:"q-date__months-item flex flex-center"},[m(G,{class:e===!0&&I.value.month===r+1?"q-date__today":null,flat:y!==!0,label:s,unelevated:y,color:y===!0?J.value:null,textColor:y===!0?ae.value:null,tabindex:D.value,disable:a(r+1),...P("month#"+r,{onClick:()=>{xa(r+1)}})})])});return o.yearsInMonthView===!0&&t.unshift(m("div",{class:"row no-wrap full-width"},[Ie({label:v.value.year,type:"Years",key:v.value.year,dir:Z.value,goTo:Te,boundaries:Ee.value.year,cls:" col"})])),m("div",{key:"months-view",class:"q-date__view q-date__months flex flex-center"},t)},Years(){const e=B.value,a=e+K,t=[],s=r=>l.value!==null&&l.value.year>r||S.value!==null&&S.value.year<r;for(let r=e;r<=a;r++){const y=v.value.year===r;t.push(m("div",{class:"q-date__years-item flex flex-center"},[m(G,{key:"yr"+r,class:I.value.year===r?"q-date__today":null,flat:!y,label:r,dense:!0,unelevated:y,color:y===!0?J.value:null,textColor:y===!0?ae.value:null,tabindex:D.value,disable:s(r),...P("yr#"+r,{onClick:()=>{wa(r)}})})]))}return m("div",{class:"q-date__view q-date__years flex flex-center"},[m("div",{class:"col-auto"},[m(G,{round:!0,dense:!0,flat:!0,icon:me.value[0],"aria-label":V.lang.date.prevRangeYears(K),tabindex:D.value,disable:s(e),...P("y-",{onClick:()=>{B.value-=K}})})]),m("div",{class:"q-date__years-content col self-stretch row items-center"},t),m("div",{class:"col-auto"},[m(G,{round:!0,dense:!0,flat:!0,icon:me.value[1],"aria-label":V.lang.date.nextRangeYears(K),tabindex:D.value,disable:s(a),...P("y+",{onClick:()=>{B.value+=K}})})])])}};function qa(e){const a={...v.value,day:e};if(o.range===!1){Ca(a,Q.value);return}if(F.value===null){const t=Je.value.find(r=>r.fill!==!0&&r.i===e);if(o.noUnset!==!0&&t.range!==void 0){Qe({target:a,from:t.range.from,to:t.range.to});return}if(t.selected===!0){Qe(a);return}const s=le(a);F.value={init:a,initHash:s,final:a,finalHash:s},z("rangeStart",se(a))}else{const t=F.value.initHash,s=le(a),r=t<=s?{from:F.value.init,to:a}:{from:a,to:F.value.init};F.value=null,Ae(t===s?a:{target:a,...r}),z("rangeEnd",{from:se(r.from),to:se(r.to)})}}function Va(e){if(F.value!==null){const a={...v.value,day:e};Object.assign(F.value,{final:a,finalHash:le(a)})}}return Object.assign(W,{setToday:Ge,setView:ya,offsetCalendar:ba,setCalendarTo:Oe,setEditingRange:_a}),()=>{const e=[m("div",{class:"q-date__content col relative-position"},[m(xe,{name:"q-transition--fade"},ka[j.value])])],a=Fa(_.default);return a!==void 0&&e.push(m("div",{class:"q-date__actions"},a)),o.name!==void 0&&o.disable!==!0&&ye(e,"push"),m("div",{class:ke.value,...pa.value},[Da(),m("div",{ref:ie,class:"q-date__main col column",tabindex:-1},e)])}}}),yt=va({name:"QPopupProxy",props:{...Za,breakpoint:{type:[String,Number],default:450}},emits:["show","hide"],setup(o,{slots:_,emit:z,attrs:W}){const{proxy:V}=ma(),{$q:X}=V,P=M(!1),D=M(null),Y=h(()=>parseInt(o.breakpoint,10)),{canShow:O}=et({showing:P});function w(){return X.screen.width<Y.value||X.screen.height<Y.value?"dialog":"menu"}const p=M(w()),H=h(()=>p.value==="menu"?{maxHeight:"99vh"}:{});pe(()=>w(),k=>{P.value!==!0&&(p.value=k)});function ye(k){P.value=!0,z("show",k)}function ie(k){P.value=!1,p.value=w(),z("hide",k)}return Object.assign(V,{show(k){O(k)===!0&&D.value.show(k)},hide(k){D.value.hide(k)},toggle(k){D.value.toggle(k)}}),Ra(V,"currentComponent",()=>({type:p.value,ref:D.value})),()=>{const k={ref:D,...H.value,...W,onShow:ye,onHide:ie};let x;return p.value==="dialog"?x=ja:(x=Ua,Object.assign(k,{target:o.target,contextMenu:o.contextMenu,noParentEvent:!0,separateClosePopup:!0})),m(x,k,_.default)}}}),bt={class:"novedades-page"},_t={key:0},wt={class:"content"},xt={class:"filters-section q-mb-lg"},Ct={class:"row q-col-gutter-md q-mb-md items-center"},Dt={class:"col-12 col-md-8"},kt={class:"col-12 col-md-4"},qt={class:"action-buttons-row"},Vt={class:"aprendiz-cell"},Mt={class:"aprendiz-nombre"},zt={class:"aprendiz-documento"},Pt={class:"ficha-cell"},St={class:"ficha-numero"},Ht={class:"ficha-programa"},Ft={key:0,class:"estado-badge estado-validado"},Nt={key:1,class:"estado-badge estado-rechazado"},Rt={key:2,class:"estado-badge estado-pendiente"},jt={key:1,class:"historial-page"},Et={class:"historial-header"},Yt={class:"historial-title-section"},Ot={class:"historial-subtitle"},Bt={class:"historial-info"},Tt={class:"info-item"},At={class:"info-item"},Qt={class:"historial-content"},It={class:"historial-table-container"},$t={class:"fecha-cell"},Lt={class:"tipo-novedad-cell"},Ut={key:0,class:"estado-badge estado-validado"},Wt={key:1,class:"estado-badge estado-validado"},Jt={key:2,class:"estado-badge estado-pendiente"},Gt={key:3,class:"estado-badge estado-pendiente"},Kt={class:"observacion-cell"},Xt={class:"documento-cell"},Zt={class:"acciones-cell"},eo={class:"modal-header"},ao={class:"text-h6 flex items-center"},to={class:"modal-content-grid"},oo={class:"modal-column"},lo={class:"row items-center justify-end"},no={class:"modal-column"},io={class:"form-group"},so={class:"row justify-end q-gutter-sm full-width"},ro={class:"modal-header"},uo={class:"text-h6 flex items-center"},co={class:"row justify-end q-gutter-sm full-width"},vo={class:"modal-header"},mo={class:"text-h6 flex items-center"},fo={key:0,class:"modal-content-grid"},ho={class:"modal-column"},go={class:"data-grid"},po={class:"data-row"},yo={class:"data-value"},bo={class:"data-row"},_o={class:"data-value"},wo={class:"data-row"},xo={class:"data-value"},Co={class:"modal-column"},Do={class:"data-grid"},ko={class:"data-row"},qo={class:"data-value"},Vo={class:"data-row"},Mo={class:"data-value"},zo={class:"data-row"},Po={class:"data-value"},So={key:1},Ho={class:"data-row"},Fo={class:"data-value"},No={class:"data-row"},Ro={class:"data-value"},jo={key:0,class:"data-row"},Eo={class:"data-value"},Yo={class:"modal-header"},Oo={class:"text-h6 flex items-center"},Bo={class:"plantillas-list"},To={class:"plantilla-actions"},Ao={class:"modal-header"},Qo={class:"text-h6 flex items-center"},Io={class:"plantilla-viewer"},$o={class:"pdf-container"},Lo={class:"pdf-toolbar"},Uo={class:"pdf-preview"},Wo={class:"pdf-placeholder"},Jo={__name:"News",setup(o){Ba();const _=rt(),z=()=>({_id:"",aprendizBusqueda:"",tipo:"Seleccionar tipo",descripcion:"",fechaEvento:"",archivo:null,archivoNombre:"",requiereRevision:!1}),W={list:"/novedades/list"},V={listError:"Error al listar novedades",noData:"No hay novedades registradas"},X=(b,n)=>{const l={...n};return b.search?.trim()&&(l.search=b.search.trim()),l},{loadingTable:P,rows:D,showAddDialog:Y,showDetailDialog:O,selectedEntity:w,formData:p,filtersData:H,pagination:ye,handlePaginationRequest:ie,openFormDialog:k,closeFormDialog:x,openDetailsDialog:Fe,closeDetailsDialog:De,handleAddDialogVisibility:I,handleSearchChange:v,fetchEntities:j}=dt({entityName:"novedad",entityNamePlural:"novedades",getDefaultFormData:z,endpoints:W,messages:V,buildFilterParams:X}),de=M(!1),L=M(!1),Z=M(!1),ee=M(!1),B=M(null),F=M(null),ke=M([{aprendiz:"Luis Fernando Torres",documento:"11123638",ficha:"2924076",programa:"Análisis y desarrollo de software",tipo:"Deserción",fechaProgramada:"05/10/2025",fechaRealizada:"05/10/2025",estado:"Validado",descripcion:"El aprendiz decidió retirarse del programa por motivos personales y laborales.",evidencia:"carta_retiro_luis_torres.pdf"},{aprendiz:"María Amanda Ortiz",documento:"11684758",ficha:"3698456",programa:"Hotelería y turismo",tipo:"Desempeño",fechaProgramada:"06/10/2025",fechaRealizada:"08/10/2025",estado:"Pendiente",descripcion:"La aprendiz presenta bajo rendimiento académico en las últimas evaluaciones.",evidencia:null},{aprendiz:"Gabriela Alejandra Ballesteros",documento:"1034968784",ficha:"2926076",programa:"Análisis y desarrollo de software",tipo:"Cambio de Condiciones",fechaProgramada:"10/10/2025",fechaRealizada:"05/10/2025",estado:"Rechazado",descripcion:"Solicitud de aplazamiento del programa por motivos de salud.",evidencia:"certificado_medico.pdf"}]),J=M([{id:1,fecha:"05/10/2025",tipoNovedad:"Deserción",estado:"Pendiente",observacion:"Ausencia continua de 18 días consecutivos",documento:"documento_desercion.pdf",fechaRegistro:"05/10/2025",descripcionCompleta:"El aprendiz ha estado ausente de manera continua durante un período de 18 días consecutivos, sin presentar hasta la fecha ninguna justificación formal que respalde su inasistencia.",accionesRealizadas:"Pendiente por revisión administrativa."},{id:2,fecha:"02/10/2025",tipoNovedad:"Desempeño",estado:"En proceso",observacion:"Deficiencia técnica identificada",documento:"evaluacion_desempeno.pdf",fechaRegistro:"02/10/2025",descripcionCompleta:"El aprendiz presenta dificultades significativas en el desarrollo de competencias técnicas.",accionesRealizadas:"Plan de mejora implementado. Seguimiento en curso."}]),ae=M([{id:1,nombre:"Seguimientos plantilla.pdf",icon:"description"}]),ue=["Seleccionar tipo","Deserción","Problemas de desempeño","Cambio de condiciones","Otra"],be=[{name:"aprendiz",label:"Aprendiz/Documento",align:"left",field:"aprendiz",sortable:!0},{name:"ficha",label:"Ficha/Programa",align:"left",field:"ficha",sortable:!0},{name:"tipo",label:"Tipo",align:"center",field:"tipo",sortable:!0},{name:"fechaProgramada",label:"Fecha Programada",align:"center",field:"fechaProgramada",sortable:!0},{name:"fechaRealizada",label:"Fecha Realizada",align:"center",field:"fechaRealizada",sortable:!0},{name:"estado",label:"Estado",align:"center",field:"estado",sortable:!0},{name:"acciones",label:"Acciones",align:"center",field:"acciones"}],T=[{name:"fecha",label:"Fecha",align:"center",field:"fecha",sortable:!0,width:"120px"},{name:"tipoNovedad",label:"Tipo de Novedad",align:"center",field:"tipoNovedad",sortable:!0,width:"150px"},{name:"estado",label:"Estado",align:"center",field:"estado",sortable:!0,width:"130px"},{name:"observacion",label:"Observación",align:"left",field:"observacion",sortable:!0},{name:"documento",label:"Documento",align:"center",field:"documento",sortable:!0,width:"120px"},{name:"acciones",label:"Acciones",align:"center",field:"acciones",width:"100px"}];h(()=>{let b=[...ke.value];if(H.value.search&&H.value.search.trim()){const n=H.value.search.toLowerCase().trim();b=b.filter(l=>l.aprendiz&&l.aprendiz.toLowerCase().includes(n)||l.documento&&l.documento.toLowerCase().includes(n))}if(H.value.ficha&&H.value.ficha.trim()){const n=H.value.ficha.toLowerCase().trim();b=b.filter(l=>l.ficha&&l.ficha.toLowerCase().includes(n))}if(H.value.programa&&H.value.programa.trim()){const n=H.value.programa.toLowerCase().trim();b=b.filter(l=>l.programa&&l.programa.toLowerCase().includes(n))}return b});const te=b=>{B.value={...b},de.value=!0},ce=()=>{de.value=!1,B.value=null},ve=b=>{_.notify({message:`Abriendo documento: ${b}`,color:"info",icon:"description"})},oe=()=>{if(!p.value.aprendizBusqueda){_.notify({message:"Por favor busque y seleccione un aprendiz",color:"negative",icon:"warning"});return}if(p.value.tipo==="Seleccionar tipo"||!p.value.tipo){_.notify({message:"Por favor seleccione un tipo de novedad",color:"negative",icon:"warning"});return}if(!p.value.descripcion){_.notify({message:"Por favor ingrese una descripción detallada",color:"negative",icon:"warning"});return}if(!p.value.fechaEvento){_.notify({message:"Por favor ingrese la fecha del evento",color:"negative",icon:"warning"});return}if(!p.value.requiereRevision){_.notify({message:"Debe confirmar que la novedad requiere revisión administrativa",color:"warning",icon:"info"});return}L.value=!0},qe=()=>{L.value=!1},Ne=()=>{const b={aprendiz:p.value.aprendizBusqueda,documento:"00000000",ficha:"0000000",programa:"Programa ejemplo",tipo:p.value.tipo,fechaProgramada:p.value.fechaEvento,fechaRealizada:p.value.fechaEvento,estado:"Pendiente",descripcion:p.value.descripcion,evidencia:p.value.archivoNombre};ke.value.unshift(b),L.value=!1,x(),_.notify({message:"Novedad realizada satisfactoriamente",caption:"La novedad se registró exitosamente y se enviará para su aprobación administrativa.",color:"positive",icon:"check_circle",position:"top",timeout:4e3,actions:[{label:"Cerrar",color:"white",handler:()=>{}}]})},Re=()=>{Z.value=!0},Ve=b=>{F.value=b,ee.value=!0},me=()=>{_.notify({message:"Descargando plantilla...",color:"positive",icon:"download"})},Me=b=>{switch(b?.toLowerCase()){case"validado":case"permanente":return"positive";case"rechazado":return"negative";case"pendiente":case"en proceso":return"orange";default:return"grey"}},je=b=>{b&&(b.type==="application/pdf"?(p.value.archivoNombre=b.name,_.notify({message:"Archivo cargado correctamente",color:"positive",icon:"check_circle"})):_.notify({message:"Solo se permiten archivos PDF",color:"negative",icon:"error"}))};return Ya(()=>{j()}),(b,n)=>(N(),E("div",bt,[de.value?(N(),E("div",jt,[i("div",Et,[d(A,{icon:"arrow_back",flat:"",round:"",dense:"","custom-class":"icon-button",class:"back-button-historial","aria-label":"Volver a novedades",onClick:ce}),i("div",Yt,[n[20]||(n[20]=i("h1",{class:"historial-main-title"},"Historial de Novedades",-1)),i("h2",Ot,C(B.value?.aprendiz),1),i("div",Bt,[i("span",Tt,[n[18]||(n[18]=i("strong",null,"Ficha:",-1)),$(" "+C(B.value?.ficha||"2924076"),1)]),i("span",At,[n[19]||(n[19]=i("strong",null,"Programa:",-1)),$(" "+C(B.value?.programa||"Análisis y desarrollo de software"),1)])])])]),i("div",Qt,[i("div",It,[d(da,{rows:J.value,columns:T,"row-key":"id","rows-per-page-options":[5,10,15,20]},{"body-cell-fecha":c(l=>[d(U,{props:l,class:"text-center"},{default:c(()=>[i("div",$t,C(l.row.fecha),1)]),_:2},1032,["props"])]),"body-cell-tipoNovedad":c(l=>[d(U,{props:l,class:"text-center"},{default:c(()=>[i("div",Lt,C(l.row.tipoNovedad),1)]),_:2},1032,["props"])]),"body-cell-estado":c(l=>[d(U,{props:l,class:"text-center"},{default:c(()=>[l.row.estado==="Permanente"?(N(),E("div",Ut,[d(R,{name:"check",size:"16px"}),i("span",null,C(l.row.estado),1)])):l.row.estado==="Validado"?(N(),E("div",Wt,[d(R,{name:"check",size:"16px"}),i("span",null,C(l.row.estado),1)])):l.row.estado==="En proceso"?(N(),E("div",Jt,[i("span",null,C(l.row.estado),1)])):(N(),E("div",Gt,[i("span",null,C(l.row.estado),1)]))]),_:2},1032,["props"])]),"body-cell-observacion":c(l=>[d(U,{props:l,class:"text-left"},{default:c(()=>[i("div",Kt,C(l.row.observacion),1)]),_:2},1032,["props"])]),"body-cell-documento":c(l=>[d(U,{props:l,class:"text-center"},{default:c(()=>[i("div",Xt,[d(A,{label:"Ver PDF",flat:"",noCaps:!0,"custom-class":"link-button",onClick:S=>ve(l.row.documento)},null,8,["onClick"])])]),_:2},1032,["props"])]),"body-cell-acciones":c(l=>[d(U,{props:l,class:"text-center"},{default:c(()=>[i("div",Zt,[d(He,{icon:"visibility",color:"grey-7",tooltip:"Ver detalle",onClick:S=>f(Fe)(l.row)},null,8,["onClick"])])]),_:2},1032,["props"])]),_:1},8,["rows"])])])])):(N(),E("div",_t,[d(ut,{class:"q-mb-lg"}),i("div",wt,[d(ct,{title:"Novedades y Reportes de Seguimiento",description:"Consulta anuncios y reportes de seguimiento de aprendices."}),i("div",xt,[i("div",Ct,[i("div",Dt,[d(Se,{modelValue:f(H).search,"onUpdate:modelValue":[n[0]||(n[0]=l=>f(H).search=l),f(v)],dense:"",outlined:"",placeholder:"Buscar por aprendiz, documento, ficha o programa",clearable:"",debounce:"600"},Oa({prepend:c(()=>[d(R,{name:"search",color:"green-8"})]),_:2},[f(H).search?{name:"append",fn:c(()=>[d(R,{name:"info_outline",color:"grey-6",size:"sm"},{default:c(()=>[d(La,{class:"bg-grey-8",offset:[0,8]},{default:c(()=>[...n[17]||(n[17]=[$(" Busca en: Nombre del aprendiz, documento, número de ficha y programa ",-1)])]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"])]),i("div",kt,[i("div",qt,[d(A,{label:"Registrar novedad",icon:"add","custom-class":"gradient-btn",onClick:f(k)},null,8,["onClick"]),d(A,{label:"Plantillas",icon:"description","custom-class":"gradient-btn",onClick:Re})])])])]),d(da,{rows:f(D),columns:be,loading:f(P),"row-key":"documento","rows-per-page-options":[5,10,15,20],pagination:f(ye),onRequest:f(ie)},{"body-cell-aprendiz":c(l=>[d(U,{props:l,class:"text-left"},{default:c(()=>[i("div",Vt,[i("div",Mt,C(l.row.aprendiz),1),i("div",zt,C(l.row.documento),1)])]),_:2},1032,["props"])]),"body-cell-ficha":c(l=>[d(U,{props:l,class:"text-left"},{default:c(()=>[i("div",Pt,[i("div",St,C(l.row.ficha),1),i("div",Ht,C(l.row.programa),1)])]),_:2},1032,["props"])]),"body-cell-estado":c(l=>[d(U,{props:l,class:"text-center"},{default:c(()=>[l.row.estado==="Validado"?(N(),E("div",Ft,[d(R,{name:"check",size:"18px"}),i("span",null,C(l.row.estado),1)])):l.row.estado==="Rechazado"?(N(),E("div",Nt,[d(R,{name:"close",size:"18px"}),i("span",null,C(l.row.estado),1)])):(N(),E("div",Rt,[i("span",null,C(l.row.estado),1)]))]),_:2},1032,["props"])]),"body-cell-acciones":c(l=>[d(U,{props:l,class:"text-center actions-column"},{default:c(()=>[d(He,{icon:"history",color:"grey-7",tooltip:"Ver historial",onClick:S=>te(l.row)},null,8,["onClick"])]),_:2},1032,["props"])]),_:1},8,["rows","loading","pagination","onRequest"])])])),d(Ce,{modelValue:f(Y),"onUpdate:modelValue":[n[8]||(n[8]=l=>na(Y)?Y.value=l:null),f(I)],variant:"edit",width:"900px","max-width":"95vw",persistent:""},{header:c(()=>[i("div",eo,[i("div",ao,[d(R,{name:"add_circle",class:"q-mr-sm"}),n[21]||(n[21]=$(" Registrar nueva novedad ",-1))])])]),body:c(()=>[d(tt,{onSubmit:Ta(oe,["prevent"])},{default:c(()=>[i("div",to,[i("div",oo,[n[22]||(n[22]=i("div",{class:"section-title"},"Información del Aprendiz",-1)),d(Se,{modelValue:f(p).aprendizBusqueda,"onUpdate:modelValue":n[1]||(n[1]=l=>f(p).aprendizBusqueda=l),filled:"",dense:"",label:"Aprendiz *",placeholder:"Buscar Aprendiz",rules:[l=>!!l||"El aprendiz es requerido"]},{append:c(()=>[d(R,{name:"search"})]),_:1},8,["modelValue","rules"]),d(Wa,{modelValue:f(p).tipo,"onUpdate:modelValue":n[2]||(n[2]=l=>f(p).tipo=l),options:ue.filter(l=>l!=="Seleccionar tipo"),filled:"",dense:"",label:"Tipo de novedad *",placeholder:"Seleccionar tipo",rules:[l=>!!l&&l!=="Seleccionar tipo"||"El tipo de novedad es requerido"]},null,8,["modelValue","options","rules"]),d(Se,{modelValue:f(p).fechaEvento,"onUpdate:modelValue":n[4]||(n[4]=l=>f(p).fechaEvento=l),filled:"",dense:"",label:"Fecha del evento *",placeholder:"dd/mm/aaaa",mask:"##/##/####",rules:[l=>!!l||"La fecha del evento es requerida"]},{append:c(()=>[d(R,{name:"event",class:"cursor-pointer"},{default:c(()=>[d(yt,{cover:"","transition-show":"scale","transition-hide":"scale"},{default:c(()=>[d(pt,{modelValue:f(p).fechaEvento,"onUpdate:modelValue":n[3]||(n[3]=l=>f(p).fechaEvento=l),mask:"DD/MM/YYYY"},{default:c(()=>[i("div",lo,[Aa(d(A,{label:"Cerrar",flat:"",noCaps:!0,"custom-class":"boton-cerrar"},null,512),[[st]])])]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue","rules"])]),i("div",no,[n[25]||(n[25]=i("div",{class:"section-title"},"Detalles de la Novedad",-1)),d(Se,{modelValue:f(p).descripcion,"onUpdate:modelValue":n[5]||(n[5]=l=>f(p).descripcion=l),filled:"",dense:"",label:"Descripción detallada *",placeholder:"Describe la novedad a detalle",type:"textarea",rows:4,rules:[l=>!!l||"La descripción es requerida"]},null,8,["modelValue","rules"]),i("div",io,[n[24]||(n[24]=i("label",{class:"form-label"},"Evidencia (PDF)",-1)),d(at,{modelValue:f(p).archivo,"onUpdate:modelValue":[n[6]||(n[6]=l=>f(p).archivo=l),je],outlined:"",label:"Seleccionar archivo PDF",accept:"application/pdf","max-file-size":"5242880",clearable:""},{prepend:c(()=>[d(R,{name:"attach_file"})]),hint:c(()=>[...n[23]||(n[23]=[$(" Formato permitido: PDF. Tamaño máximo: 5MB. ",-1)])]),_:1},8,["modelValue"])]),d(Qa,{modelValue:f(p).requiereRevision,"onUpdate:modelValue":n[7]||(n[7]=l=>f(p).requiereRevision=l),label:"Confirmo que esta novedad requiere revisión administrativa.",dense:""},null,8,["modelValue"])])])]),_:1})]),footer:c(()=>[i("div",so,[d(A,{"custom-class":"boton-cerrar",label:"Cancelar",onClick:f(x)},null,8,["onClick"]),d(A,{label:"Registrar Novedad","custom-class":"gradient-btn",disable:!f(p).requiereRevision,onClick:oe},null,8,["disable"])])]),_:1},8,["modelValue","onUpdate:modelValue"]),d(Ce,{modelValue:L.value,"onUpdate:modelValue":n[9]||(n[9]=l=>L.value=l),variant:"view",width:"500px","max-width":"90vw",persistent:""},{header:c(()=>[i("div",ro,[i("div",uo,[d(R,{name:"help_outline",class:"q-mr-sm"}),n[26]||(n[26]=$(" Confirmar registro ",-1))])])]),body:c(()=>[...n[27]||(n[27]=[i("div",{class:"confirmacion-body"},[i("p",{class:"confirmacion-texto"}," ¿Está seguro que desea registrar esta novedad? "),i("p",{class:"confirmacion-subtexto"}," Esta acción enviará la novedad para revisión administrativa. ")],-1)])]),footer:c(()=>[i("div",co,[d(A,{"custom-class":"boton-cerrar",label:"Cancelar",onClick:qe}),d(A,{label:"Confirmar","custom-class":"gradient-btn",onClick:Ne})])]),_:1},8,["modelValue"]),d(Ce,{modelValue:f(O),"onUpdate:modelValue":[n[11]||(n[11]=l=>na(O)?O.value=l:null),n[12]||(n[12]=l=>!l&&f(De)())],variant:"view",width:"900px","max-width":"90vw"},{header:c(()=>[i("div",vo,[i("div",mo,[d(R,{name:"assignment",class:"q-mr-sm"}),n[28]||(n[28]=$(" Detalle de Novedad ",-1))])])]),body:c(()=>[f(w)?(N(),E("div",fo,[i("div",ho,[n[32]||(n[32]=i("div",{class:"section-title"},"Información del Aprendiz",-1)),i("div",go,[i("div",po,[n[29]||(n[29]=i("div",{class:"text-weight-bold"},"Aprendiz:",-1)),i("div",yo,C(f(w).aprendiz||B.value?.aprendiz||"-"),1)]),i("div",bo,[n[30]||(n[30]=i("div",{class:"text-weight-bold"},"Ficha:",-1)),i("div",_o,C(f(w).ficha||B.value?.ficha||"-"),1)]),i("div",wo,[n[31]||(n[31]=i("div",{class:"text-weight-bold"},"Programa:",-1)),i("div",xo,C(f(w).programa||B.value?.programa||"-"),1)])])]),i("div",Co,[n[39]||(n[39]=i("div",{class:"section-title"},"Detalles de la Novedad",-1)),i("div",Do,[i("div",ko,[n[33]||(n[33]=i("div",{class:"text-weight-bold"},"Fecha:",-1)),i("div",qo,C(f(w).fechaRegistro||f(w).fecha||"-"),1)]),i("div",Vo,[n[34]||(n[34]=i("div",{class:"text-weight-bold"},"Tipo:",-1)),i("div",Mo,C(f(w).tipoNovedad||"-"),1)]),i("div",zo,[n[35]||(n[35]=i("div",{class:"text-weight-bold"},"Estado:",-1)),i("div",Po,[f(w).estado?(N(),sa(ot,{key:0,color:Me(f(w).estado),class:"text-uppercase"},{default:c(()=>[$(C(f(w).estado),1)]),_:1},8,["color"])):(N(),E("span",So,"-"))])]),i("div",Ho,[n[36]||(n[36]=i("div",{class:"text-weight-bold"},"Descripción:",-1)),i("div",Fo,C(f(w).descripcionCompleta||f(w).observacion||"-"),1)]),i("div",No,[n[37]||(n[37]=i("div",{class:"text-weight-bold"},"Acciones realizadas:",-1)),i("div",Ro,C(f(w).accionesRealizadas||"Pendiente por revisión administrativa."),1)]),f(w).documento?(N(),E("div",jo,[n[38]||(n[38]=i("div",{class:"text-weight-bold"},"Documento:",-1)),i("div",Eo,[d(A,{label:"Ver PDF",flat:"",noCaps:!0,"custom-class":"link-button",onClick:n[10]||(n[10]=l=>ve(f(w).documento))})])])):ia("",!0)])])])):ia("",!0)]),footer:c(()=>[d(A,{label:"Cerrar","custom-class":"boton-cerrar",onClick:f(De)},null,8,["onClick"])]),_:1},8,["modelValue"]),d(Ce,{modelValue:Z.value,"onUpdate:modelValue":n[14]||(n[14]=l=>Z.value=l),variant:"view",width:"500px","max-width":"95vw"},{header:c(()=>[i("div",Yo,[i("div",Oo,[d(R,{name:"description",class:"q-mr-sm"}),n[40]||(n[40]=$(" Plantillas Seguimientos ",-1))])])]),body:c(()=>[i("div",Bo,[d(it,null,{default:c(()=>[(N(!0),E(Ia,null,$a(ae.value,l=>(N(),sa(lt,{key:l.id,class:"plantilla-item"},{default:c(()=>[d(Le,{avatar:""},{default:c(()=>[d(R,{name:l.icon,color:"grey-7",size:"md"},null,8,["name"])]),_:2},1024),d(Le,null,{default:c(()=>[d(nt,{class:"plantilla-nombre"},{default:c(()=>[$(C(l.nombre),1)]),_:2},1024)]),_:2},1024),d(Le,{side:""},{default:c(()=>[i("div",To,[d(He,{icon:"visibility",color:"grey-7",tooltip:"Visualizar",onClick:S=>Ve(l)},null,8,["onClick"])])]),_:2},1024)]),_:2},1024))),128))]),_:1})])]),footer:c(()=>[d(A,{label:"Cerrar","custom-class":"boton-cerrar",noCaps:!0,onClick:n[13]||(n[13]=l=>Z.value=!1)})]),_:1},8,["modelValue"]),d(Ce,{modelValue:ee.value,"onUpdate:modelValue":n[16]||(n[16]=l=>ee.value=l),variant:"view",width:"900px","max-width":"95vw"},{header:c(()=>[i("div",Ao,[i("div",Qo,[d(R,{name:"visibility",class:"q-mr-sm"}),n[41]||(n[41]=$(" Visualizar Plantilla ",-1))])])]),body:c(()=>[i("div",Io,[i("div",$o,[i("div",Lo,[d(He,{icon:"download",color:"grey-8",tooltip:"Descargar",onClick:me})]),i("div",Uo,[i("div",Wo,[d(R,{name:"description",size:"64px",color:"grey-5"}),n[42]||(n[42]=i("p",{class:"text-grey-6"},"Vista previa de la plantilla",-1)),n[43]||(n[43]=i("small",{class:"text-grey-5"},"Formato de seguimiento de etapa productiva",-1))])])])])]),footer:c(()=>[d(A,{label:"Cerrar","custom-class":"boton-cerrar",noCaps:!0,onClick:n[15]||(n[15]=l=>ee.value=!1)})]),_:1},8,["modelValue"])]))}},wl=Ea(Jo,[["__scopeId","data-v-dd2aa9c2"]]);export{wl as default};
