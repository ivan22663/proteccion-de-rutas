import{_ as Q,r as m,m as z,a5 as N,c as A,a as i,u as R,o as k,b as s,d as e,f as x,s as F,e as n,i as H,j as M}from"./index-D8k0Z2VW.js";import{Q as f}from"./QSelect-CCFBgF8v.js";import{Q as q}from"./QPage-CDUm3vNP.js";import{u as G}from"./useEntityManager-6kUzRwOq.js";import{u as E}from"./useNotifications-C15CMF32.js";import{B as T}from"./BackButton-OAicZK4q.js";import{P as U}from"./PageHeader-BZtJRD6F.js";import{B as v}from"./Button-ByZOtwGJ.js";import"./QItemLabel-BiKvV_tR.js";import"./position-engine-BrzQKXCo.js";import"./selection-CjJDPdFp.js";import"./format-DyQxkAtJ.js";import"./apiClient-Vvvjylwf.js";const L={class:"full-width row"},j={class:"col-12"},J={class:"container"},K={class:"reporte-card"},O={class:"reporte-body"},W={class:"form-grid"},X={class:"form-item"},Y={class:"form-item"},Z={class:"form-item"},$={class:"actions"},oo={__name:"HoursByInstructor",setup(to){const g=R(),{warning:l}=E(),_=()=>({_id:"",instructor:null,periodo:"",tipoSeguimiento:null}),b={list:"/instructors/listInstructors"},y={listError:"Error al cargar instructores",noData:"No hay instructores disponibles"},h=a=>{const o=a?.msg??a?.data??a??{},r=Array.isArray(o)?o:o?.instructors||o?.instructores||o?.list||[];return{data:Array.isArray(r)?r:[],total:o?.totalDocuments??o?.total??r.length}},{formData:t,resetForm:I}=G({entityName:"instructor",entityNamePlural:"instructors",getDefaultFormData:_,endpoints:b,messages:y,processResponse:h}),S=I,u=m([]),c=m([]),d=z(()=>!!(t.value.instructor&&t.value.periodo&&t.value.tipoSeguimiento));function V(){D(t.value.periodo,"periodo")}function D(a,o){if(!a)return;const r=new Date(a),p=new Date;if(p.setHours(23,59,59,999),r>p){l("No se pueden seleccionar fechas futuras"),t.value[o]="";return}}function B(){S(),t.value.instructor=null,t.value.periodo="",t.value.tipoSeguimiento=null}function C(){if(!d.value){l("Por favor complete todos los campos");return}g.push({path:"/app/admin/vistareporteporinstructor",query:{instructor:t.value.instructor,periodo:t.value.periodo,tipoSeguimiento:t.value.tipoSeguimiento}})}async function w(){u.value=[{id:1,nombre:"Juan Pérez García"},{id:2,nombre:"María López Rodríguez"},{id:3,nombre:"Carlos Martínez Díaz"},{id:4,nombre:"Ana Gómez Sánchez"}]}async function P(){c.value=["Instructor Tecnico","Instructor Seguimiento","Instructor Proyecto"]}return N(()=>{w(),P()}),(a,o)=>(k(),A(q,{class:"q-pa-md report-page"},{default:i(()=>[s(T,{class:"q-mb-lg"}),e("div",L,[e("div",j,[s(x,{class:"shadow-1 hero-card q-mb-xl"},{default:i(()=>[s(F,null,{default:i(()=>[s(U,{title:"Horas por Instructor",description:"Consulta las horas asignadas y registradas por instructor."})]),_:1})]),_:1}),e("div",J,[e("div",K,[o[6]||(o[6]=e("div",{class:"reporte-header"},[e("span",null,"Filtros del reporte")],-1)),e("div",O,[e("div",W,[e("div",X,[o[3]||(o[3]=e("label",null,"Instructor",-1)),s(f,{modelValue:n(t).instructor,"onUpdate:modelValue":o[0]||(o[0]=r=>n(t).instructor=r),options:u.value,"option-label":"nombre","option-value":"id",outlined:"",placeholder:"Seleccionar instructor",dense:"","emit-value":"","map-options":"",clearable:""},null,8,["modelValue","options"])]),e("div",Y,[o[4]||(o[4]=e("label",null,"Periodo",-1)),s(H,{modelValue:n(t).periodo,"onUpdate:modelValue":[o[1]||(o[1]=r=>n(t).periodo=r),V],outlined:"",dense:"",type:"date"},{prepend:i(()=>[s(M,{name:"event",color:"green-8"})]),_:1},8,["modelValue"])]),e("div",Z,[o[5]||(o[5]=e("label",null,"Tipo de seguimiento",-1)),s(f,{modelValue:n(t).tipoSeguimiento,"onUpdate:modelValue":o[2]||(o[2]=r=>n(t).tipoSeguimiento=r),options:c.value,outlined:"",placeholder:"Seleccionar tipo de seguimiento",dense:"",clearable:""},null,8,["modelValue","options"])])]),e("div",$,[s(v,{label:"Limpiar","custom-class":"boton-cerrar",onClick:B}),s(v,{label:"Ver reporte","custom-class":"gradient-btn",disable:!d.value,onClick:C},null,8,["disable"])])])])])])])]),_:1}))}},go=Q(oo,[["__scopeId","data-v-981055d2"]]);export{go as default};
