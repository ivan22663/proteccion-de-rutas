import{_ as x,r as d,m as B,a5 as C,c as p,a as t,u as S,o as r,b as l,d as i,f as V,s as w,h as m,g as y,t as F,l as D,j as h,ae as b,F as A,p as M}from"./index-D8k0Z2VW.js";import{Q as q,a as E}from"./QItemLabel-BiKvV_tR.js";import{Q as I}from"./QSelect-CCFBgF8v.js";import{Q as P}from"./QPage-CDUm3vNP.js";import{u as R}from"./useEntityManager-6kUzRwOq.js";import{B as j}from"./BackButton-OAicZK4q.js";import{P as G}from"./PageHeader-BZtJRD6F.js";import"./position-engine-BrzQKXCo.js";import"./selection-CjJDPdFp.js";import"./format-DyQxkAtJ.js";import"./apiClient-Vvvjylwf.js";import"./useNotifications-C15CMF32.js";const $={class:"full-width row"},z={class:"col-12"},H={class:"container"},L={class:"row justify-center"},T={class:"col-12 col-md-8"},U={key:0},J={key:0,class:"suggestions-container q-mt-md"},K=["onClick"],O={__name:"SearchGroup",setup(W){const k=S();R({entityName:"fiche",entityNamePlural:"fiches",getDefaultFormData:()=>({_id:"",ficheNumber:""}),endpoints:{list:"/fiches/listFiches"},messages:{listError:"Error al cargar fichas",noData:"No hay fichas registradas"},processResponse:s=>{const e=s?.msg??s?.data??s??{},a=Array.isArray(e)?e:e?.fiches||e?.fichas||e?.list||[];return{data:Array.isArray(a)?a:[],total:e?.totalDocuments??e?.total??a.length}}});const o=d(null),u=d(!1),c=d([]),n=d(["2926076","2926065","2926034","2589667"]),f=B(()=>n.value);function N(s,e){e(()=>{const a=s.replace(/[^0-9]/g,"");if(a===""){c.value=[...n.value],u.value=!1;return}c.value=n.value.filter(g=>g.includes(a)),u.value=c.value.length>0})}function v(s){s&&k.push(`/app/admin/documentos/${s}`)}function Q(s){o.value=s,v(s)}function _(){o.value=null,c.value=[...n.value],u.value=!1}return C(async()=>{c.value=[...n.value]}),(s,e)=>(r(),p(P,{class:"q-pa-md search-groups-page"},{default:t(()=>[l(j,{class:"q-mb-lg"}),i("div",$,[i("div",z,[l(V,{class:"shadow-1 hero-card q-mb-xl"},{default:t(()=>[l(w,null,{default:t(()=>[l(G,{title:"Buscar Ficha",description:"Busca fichas por código, instructor o estado."})]),_:1})]),_:1}),i("div",H,[i("div",L,[i("div",T,[l(I,{modelValue:o.value,"onUpdate:modelValue":[e[0]||(e[0]=a=>o.value=a),v],options:c.value,"use-input":"","input-debounce":"300",placeholder:"Número de ficha",outlined:"",class:"search-select",clearable:"",onFilter:N,onClear:_},{prepend:t(()=>[l(h,{name:"search",color:"green-8",size:"20px"})]),append:t(()=>[o.value?(r(),p(h,{key:0,name:"close",color:"green-8",class:"cursor-pointer",onClick:b(_,["stop"])})):(r(),p(h,{key:1,name:"expand_more",color:"green-8"}))]),"no-option":t(()=>[l(q,null,{default:t(()=>[l(E,{class:"text-grey"},{default:t(()=>[...e[1]||(e[1]=[D(" No hay resultados ",-1)])]),_:1})]),_:1})]),selected:t(()=>[o.value?(r(),m("span",U,F(o.value),1)):y("",!0)]),_:1},8,["modelValue","options"]),!o.value&&u.value&&f.value.length>0?(r(),m("div",J,[(r(!0),m(A,null,M(f.value,a=>(r(),m("div",{key:a,class:"fiche-item",onClick:g=>Q(a)}," Ficha "+F(a),9,K))),128))])):y("",!0)])])])])])]),_:1}))}},pe=x(O,[["__scopeId","data-v-64f8f8a1"]]);export{pe as default};
